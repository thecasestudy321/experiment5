webpackJsonp([118,267],{239:function(t,e,a){"use strict";nb.substance0147=extendsClass(ScienceMain,{frame0:function(){instance.viewStack.NBONOFF.visible=!1;var t=this.timeline,e=this.step0,a=this.step1,n=!1;a.alpha=0,t.setAutoPlay(!0,1),t.on("change",function(i){!n&&i.time>=1&&(n=!0,TweenMax.to([t,e],.5,{alpha:0,delay:1,onComplete:function(){TweenMax.to(a,.5,{alpha:1})}}));for(var r=1;r<4;r++)e["container"+r].s.alpha=i.time})},start:function(){this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"铁在什么情况下容易生锈？我们怎么防止、减缓铁生锈呢？",labName:"控制铁生锈的速度",CONCLUSION:"铁钉生锈是水和空气共同作用的结果。",newLayOut:!0,bgColor:"#F3E6CF"},const:{},event:{}}),nb.timelineSprite=function(){var t,e,a=this;if(a.bgMask){var n=a.bgMask.getChildAt(0);a.progressBar.mask=n,n.scale.x=0}for(var i,r=this.a0.x===this.a1.x?"vertical":"horizontal",o=0,l=0;l<int.MAX_VALUE;l++){var x=this["a"+l];if(void 0===x){e="vertical"===r?this["a"+(l-1)].y:this["a"+(l-1)].x,o=l;break}0===l&&(t="vertical"===r?x.y:x.x),x.addEventListener(TouchEvent.TAP,function(){"vertical"===r?TweenMax.to(a.drag,.5,{y:this.y,onUpdate:h,onComplete:c}):TweenMax.to(a.drag,.5,{x:this.x,onUpdate:h,onComplete:c}),a.emit("nodeTap",{index:this.name.substr(1,1)})})}this.setDrag=function(t){t&&NBDrag.addDrag(a.drag,i)},this.updateBound=function(){"vertical"==r?(i={x:this.drag.x,y:this.drag.y,width:0,height:e},i={x:this.drag.x,y:this.drag.y,width:0,height:e}):i={x:this.drag.x,y:this.drag.y,width:e,height:0}},this.updateBound(),a.drag.addEventListener(NBDrag.event.STOP_DRAG,function(){if(!1!==a._align_){var n=o-1;if("vertical"===r){var i=Math.round((this.y-t)/(e-t)*n);i<0&&(i=0),TweenMax.to(this,.5,{y:i*(e-t)/n,onUpdate:h,onComplete:c})}else{var l=Math.round((this.x-t)/(e-t)*n);l<0&&(l=0)}}}),a.drag.addEventListener(NBDrag.event.DRAG_MOVE,function(){h()}),a.drag.constY=a.drag.y;var s,h=function(){if("vertical"===r){var n=(a.drag.y-t)/(e-t);a.emit("change",{time:n})}else{a.drag.y=a.drag.constY,a.drag.x>=e&&(a.drag.x=e),a.drag.x<=t&&(a.drag.x=t);var i=(a.drag.x-t)/(e-t);a.emit("change",{time:i}),a.drag.line0&&(a.drag.line0.rotation=1800*i*Math.PI/180,a.drag.line1.rotation=360*i*Math.PI/180),a.bgMask&&(a.bgMask.getChildAt(0).scale.x=i)}},c=function(){a.setMomentsPause(!0,2e3,2);var n=o-1;if("vertical"===r){var i=(a.drag.y-t)/(e-t),l=Math.round(i*n);a.emit("change",{index:l,time:i})}else{var x=(a.drag.x-t)/(e-t),s=Math.round(x*n);a.emit("change",{index:s,time:x})}};this.getNodeCount=function(){return o},this.setNodePos=function(t){var e=this["a"+t];"vertical"===r?a.drag.y=e.y:a.drag.x=e.x},nb.MovieClip.ticker.add(function(){if(a._auto_&&!a.drag.isDragging){var n=e-t;"vertical"===r?(a.drag.y+=a._speed_,a.drag.y>n&&(a.drag.y=n)):(a.drag.x+=a._speed_,a.drag.x>n+a.a0.x&&(a.drag.x=n+a.a0.x)),h()}}),this.setAutoPlay=function(t,e){this._auto_=t,this._speed_=e||.1},this.setAutoAlign=function(t){this._align_=t},this.setMomentsPause=function(t,e,n){clearTimeout(s),t&&!a.NOTafterStopPlay?(a.setAutoPlay(!1),clearTimeout(s),a.setAutoPlay(!1),s=setTimeout(function(){a.setAutoPlay(!0,n)},e)):a.setAutoPlay(!1)},this.resetTimeline=function(){this.drag.x=this.bgMask.x}},t.exports=nb.substance0147},435:function(t,e,a){"use strict";var n=function(t){return t&&t.__esModule?t:{default:t}}(a(576));function i(t,e,a){for(var n=0;n<t.length;n++)t[n][e]=a}a(239),nb.substance0612=extendsClass(ScienceMain,{frame0:function(){instance.resetBtn.visible=!1,instance.viewStack.NBONOFF.visible=!1;var t=this.planets,e=this.diameter,a=this.timeline,r=this.btn;this.bg.scale.set(2,2);var o={distance:10,limit:2,filter:[n.default.Dir.LEFT,n.default.Dir.RIGHT]},l=[],x=[],s=[4880,12146,12756,6790,142800,12e4,51800,49500,1392e3,int.MAX_VALUE],h=2,c=t.p2.x,d=t.txt0.y,u=t.p2.width,v={},f=150,p=2;!function(){t.background.alpha=0;for(var n=0;n<10;n++){var i=t["p"+n];i.txt=t["txt"+n],i.defaultX=i.x,i.defaultY=i.y,l[n]=i;var o=t["line"+n];o.alpha=0,o.width=4,x.push(o)}_(l[2]),v=l[2];for(var c=0;c<l.length;c++){var d=l[c];d.alpha=d.nextAlpha,d.txt.alpha=d.nextAlpha,d.x=d.nextX,d.scale.set(d.nextScale,d.nextScale),d.txt.x=d.txt.nextX}e.text="直径："+s[h]+"千米",a.setNodePos(2),a.NOTafterStopPlay=!0,a.addEventListener("nodeTap",function(a){var n=parseInt(a.index),i=p-n;if(0!==i){v=l[h=n];var r=1+.01*Math.pow(i,2);p=n,t.interactive=!1,_(v);for(var o=[],x=0;x<l.length;x++)1!==Math.abs(i)&&(l[x].alpha=1,l[x].txt.alpha=1),o.push(TweenMax.to(l[x],r,{x:l[x].nextX,alpha:l[x].nextAlpha})),o.push(TweenMax.to(l[x].txt,r,{x:l[x].txt.nextX,alpha:l[x].nextAlpha})),o.push(TweenMax.to(l[x].scale,r,{x:l[x].nextScale,y:l[x].nextScale}));if(h===l.length-1){var c=l[l.length-2].txt,d=l[l.length-3].txt;o.push(TweenMax.to([c,d],.5,{alpha:0}))}o.push(TweenMax.to(e,.25,{alpha:0,onComplete:function(){h===l.length-1?e.text="直径：10万光年":e.text="直径："+s[h]+"千米"}}));var u=new TimelineMax({onComplete:function(){t.interactive=!0}});u.add(o),u.add(TweenMax.to(e,.25,{alpha:1}))}}),t.addEventListener(TouchEvent.TOUCH_BEGIN,m),t.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,y),t.addEventListener(TouchEvent.TOUCH_END,y),r.addEventListener(TouchEvent.TOUCH_BEGIN,E)}();var g=0,T=!1,M=!1;function m(){g=0,T=!1,M=!1,l.forEach(function(t){t.currentX=t.x,t.currentAlpha=t.alpha,t.currentScale=t.scale.x,t.txt.currentX=t.txt.x})}function y(){var n=!0;n=h===l.length-1?"直径：10万光年"!==e.text:-1===e.text.indexOf(s[h]),t.interactive=!1,_(v);for(var i=0;i<l.length;i++)TweenMax.to(l[i],.5,{x:l[i].nextX,alpha:l[i].nextAlpha}),TweenMax.to(l[i].txt,.5,{x:l[i].txt.nextX,alpha:l[i].nextAlpha}),TweenMax.to(l[i].scale,.5,{x:l[i].nextScale,y:l[i].nextScale});if(h===l.length-1){var r=l[l.length-2].txt,o=l[l.length-3].txt;TweenMax.to([r,o],.5,{alpha:0})}n?(TweenMax.to(e,.25,{alpha:0,onComplete:function(){h===l.length-1?e.text="直径：10万光年":e.text="直径："+s[h]+"千米"}}),TweenMax.to(e,.25,{alpha:1,delay:.25,onComplete:function(){a.setNodePos(h),p=h,t.interactive=!0}})):t.interactive=!0}n.default.addListener(t,function(t){var e=t.direction,a=t.distance,i=-1;e===n.default.Dir.LEFT&&(i=-1);e===n.default.Dir.RIGHT&&(i=1);if(g+=i*a,-1===i&&h===l.length-1||1===i&&0===h){for(var r=0;r<l.length;r++)l[r].x=l[r].currentX+g,l[r].txt.x=l[r].x-l[r].txt.width/2;v=l[h]}var o=1;g<0?(o=1,M&&(h++,M=!1),h<l.length-1&&!T&&(h++,T=!0)):(o=-1,T&&(h--,T=!1),h>0&&!M&&(h--,M=!0));_(v=l[h]);for(var x=0;x<l.length;x++){var s=l[x];s.x=o*(s.currentX-s.nextX)*g/c+s.currentX,s.txt.x=s.txt.x=l[x].x-s.txt.width/2;var d=o*(s.currentScale-s.nextScale)*g/c+s.currentScale;d<0&&(d=0),s.scale.set(d,d);var u=o*(s.currentAlpha-s.nextAlpha)*g/c+s.currentAlpha;u>1&&(u=1),s.alpha=s.txt.alpha=u}},o);var w=2;function E(){if(r.interactive=!1,"查看全部"===r.txt.text){r.txt.text="查看局部",t.interactive=!1,i(a.children,"interactive",!1),TweenMax.to(a,1,{alpha:0,onComplete:function(){r.interactive=!0}}),w=h,h=l.length-2,_(v=l[h]);for(var n=0;n<l.length;n++)TweenMax.to(l[n],.5,{x:l[n].nextX,alpha:1}),TweenMax.to(l[n].txt,.5,{x:l[n].txt.nextX,alpha:0}),TweenMax.to(l[n].scale,.5,{x:l[n].nextScale,y:l[n].nextScale});TweenMax.to(t,.5,{x:"+=380",y:"-=80"}),TweenMax.to(e,.5,{alpha:0,onComplete:function(){for(var e=0;e<x.length;e++){var a=x[e],n=t["txt"+e],i=l[e];a.x=i.x,e%2==0?(a.y=i.y+10,n.y=a.y+a.height+10):(a.y=i.y-i.height-10-a.height,n.y=a.y-10-n.height),TweenMax.to([a,n],.5,{alpha:1})}}})}else{r.txt.text="查看全部",_(v=l[h=w]),TweenMax.to(a,1,{alpha:1,delay:.5,onComplete:function(){r.interactive=!0}});for(var o=function(n){var r=x[n],o=t["txt"+n];TweenMax.to([r,o],.5,{alpha:0,onComplete:function(){o.y=d,TweenMax.to(l[n],.5,{x:l[n].nextX,alpha:l[n].nextAlpha}),TweenMax.to(l[n].scale,.5,{x:l[n].nextScale,y:l[n].nextScale}),w===l.length-1?TweenMax.to(l[n].txt,.5,{x:l[n].txt.nextX,alpha:0}):TweenMax.to(l[n].txt,.5,{x:l[n].txt.nextX,alpha:l[n].nextAlpha}),n===x.length-1&&(TweenMax.to(t,.5,{x:"-=380",y:"+=80"}),TweenMax.to(e,.5,{alpha:1,onComplete:function(){i(a.children,"interactive",!0),t.interactive=!0}}))}})},s=0;s<x.length;s++)o(s)}}function _(t){for(var e=l.indexOf(t),a=[],n=0;n<l.length;n++)a[n]=s[n]/s[e];for(var i=0;i<l.length;i++){var r=0,o=0;if(i!==e){i<e?(r=i,o=e):i>e&&(r=e,o=i);for(var x=u*a[i]/2+u/2+(o-r)*f,h=r+1;h<o;h++)x+=u*a[h];l[i].nextX=i>e?c+x:c-x,l[i].nextScale=a[i],l[i].txt.nextX=l[i].nextX-l[i].txt.width/2,l[i].nextAlpha=0}else l[i].nextX=c,l[i].nextScale=a[i],l[i].nextAlpha=1,l[i].txt.nextX=l[i].nextX-l[i].txt.width/2}var d=e-1,v=e-2;d>=0&&(l[d].nextAlpha=.8),v>=0&&(l[v].nextAlpha=.6)}},start:function(){this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"运用你学的知识，正确展示地球在宇宙中的地位。",labName:"地球的地位",CONCLUSION:"地球在浩渺的宇宙中很小。",newLayOut:!0,bgColor:"#141914"},const:{},event:{}}),t.exports=nb.substance0612},576:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={Dir:{UP:"UP",DOWN:"DOWN",LEFT:"LEFT",RIGHT:"RIGHT"},event:{START_DRAG:"slide_start_drag",DRAG_MOVE:"slide_drag_move",STOP_DRAG:"slide_stop_drag"}};n.addListener=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t||!e)return console.error("请传入必要参数objs, callBack"),!1;var i=void 0!==a.distance?a.distance:5,r=void 0!==a.limit&&a.limit>=1?a.limit:2,o=a.filter?a.filter:[n.Dir.UP,n.Dir.DOWN,n.Dir.LEFT,n.Dir.RIGHT];function l(t){this.lastPoint=h(t),this.emit(n.event.START_DRAG)}function x(t){if(this.lastPoint){var a=h(t),i=this.lastPoint;!function(t,a,i){var r=void 0,l=void 0;a<0&&c(a,t)&&(r=n.Dir.UP,l=Math.abs(a));a>0&&c(a,t)&&(r=n.Dir.DOWN,l=Math.abs(a));t<0&&c(t,a)&&(r=n.Dir.LEFT,l=Math.abs(t));t>0&&c(t,a)&&(r=n.Dir.RIGHT,l=Math.abs(t));r&&-1!==o.indexOf(r)&&i&&e.apply(i,[{direction:r,distance:l}])}(a.x-i.x,a.y-i.y,this),this.lastPoint=Object.assign({},a),this.emit(n.event.DRAG_MOVE)}}function s(t){this.lastPoint=null,this.emit(n.event.STOP_DRAG)}function h(t){return Object.assign({},t.data.global)}function c(t,e){return(t=Math.abs(t))>=i&&t/Math.abs(e)>=r}Array.isArray(t)||(t=[t]),t.forEach(function(t){t.addEventListener(TouchEvent.TOUCH_BEGIN,l),t.addEventListener(TouchEvent.TOUCH_MOVE,x),t.addEventListener(TouchEvent.TOUCH_END,s),t.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,s)})},e.default=n}});