webpackJsonp([91],{367:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Instance=void 0;var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var o=a.get;if(void 0!==o)return o.call(n)},l=r(575),c=function(e){return e&&e.__esModule?e:{default:e}}(l);t.Instance=function(e){function t(){n(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.init.apply(e,arguments),e.info={CONCLUSION:"动物的发育过程包括胎生和卵生。有些动物是可以飞的，而有些动物是可以跑的。",CONCLUSIONAlign:{textAlign:"left"},TITILE:"给动物分类"},e}return i(t,e),o(t,[{key:"frame1",value:function(){var e=this;e.step1.visible=!1,c.default.init.apply(e.timeline),e.timeline.addEventListener(c.default.event.CLICK_NODE,function(t){var r=t.index;e.step0.visible=0==r,e.step1.visible=0!=r}),instance.actionDo.apply(e.step0,[{Arr0:[1,4,5],Arr1:[0,2,3,6,7],type:1}]),instance.actionDo.apply(e.step1,[{Arr0:[2,3],Arr1:[0,1,4,5,6,7],type:2}])}},{key:"actionDo",value:function(e){function t(){TweenMax.to(c.tip,.3,{alpha:0}),clearTimeout(u),TweenMax.killTweensOf(c.ErrorTip),TweenMax.to(c.ErrorTip,.3,{alpha:0});var e=this;e.startX=e.x,e.startY=e.y;var t=e.name.substr(-1);c["btnImage"+t].gotoAndStop(1)}function r(){var e=this;c.setChildIndex(e,c.children.length-1);var t=s(e);if(t){var r=+t.substr(-1);if(!c["shadowArr"+r].length){o(e),c.cloneItem=e.clone(),e.name=c.cloneItem.name;var i=c.cloneItem;i.name=c.cloneItem.name+"clone",i.alpha=.5,i.fork.visible=!1,i.scale.x=i.scale.y=.72,c.addChild(i),c["shadowArr"+r].push(i),-1===c["posArr"+r].indexOf(e)?a():n(e,i)}}else c.shadowArr0.length=0,c.shadowArr1.length=0,o(e)}function n(e,t){t.x=e.startX,t.y=e.startY}function a(){var e=c.posArr0.length,t=c.posArr1.length,r=e<=3?200:300,n=t<=3?420:520;c.shadowArr0[0]&&(c.shadowArr0[0].x=280+e%4*130,c.shadowArr0[0].y=r),c.shadowArr1[0]&&(c.shadowArr1[0].x=280+t%4*130,c.shadowArr1[0].y=n)}function i(){var t=this,r=s(t);if(r){var n=+r.substr(-1);if(1==e.type?c.ErrorTip.type.currentFrame=1==n?1:0:2==e.type&&(c.ErrorTip.type.currentFrame=1==n?1:0),t.alpha=1,-1===c["posArr"+n].indexOf(t)){var a=0==n?1:0;c["posArr"+n].push(t);var i=c["posArr"+a].indexOf(t);-1!==i&&c["posArr"+a].splice(i,1)}-1!==c["Arr"+n].indexOf(t.index)?t.fork.visible=!1:(t.fork.visible=!0,c.ErrorTip.ani.currentFrame=t.index,0===c.ErrorTip.alpha&&(TweenMax.killTweensOf(c.ErrorTip),TweenMax.to(c.ErrorTip,.3,{alpha:1,onComplete:function(){u=setTimeout(function(){TweenMax.to(c.ErrorTip,.3,{alpha:0})},3e3)}}))),l()}else{t.x=t.startX0,t.y=t.startY0,t.scale.x=t.scale.y=1;var d=t.name.substr(-1);c["btnImage"+d].gotoAndStop(0),t.fork.visible=!1,-1!==c.posArr0.indexOf(t)&&c.posArr0.splice(c.posArr0.indexOf(t),1),-1!==c.posArr1.indexOf(t)&&c.posArr1.splice(c.posArr1.indexOf(t),1),l()}o(t)}function o(e){var t=[].concat(c.children),r=!0,n=!1,a=void 0;try{for(var i,o=t[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var s=i.value;s.name===e.name+"clone"&&c.removeChild(s)}}catch(e){n=!0,a=e}finally{try{!r&&o.return&&o.return()}finally{if(n)throw a}}c.shadowArr0.length=0,c.shadowArr1.length=0}function s(e){return e.hitTest(c.container0)?"container0":e.hitTest(c.container1)?"container1":0}function l(){instance.resetBtn.y!==instance.resultBtn.y&&instance.resetBtnEnable(!0);for(var e=0;e<8;e++){var t=e%4,r=280+130*t,n=e<=3?200:300,a=e<=3?420:520;c.posArr0[e]&&(c.posArr0[e].x=r,c.posArr0[e].y=n,c.posArr0[e].scale.x=c.posArr0[e].scale.y=.72),c.posArr1[e]&&(c.posArr1[e].x=r,c.posArr1[e].y=a,c.posArr1[e].scale.x=c.posArr1[e].scale.y=.72)}}var c=this,u=null;c.firstTip.visible=!1,c.ErrorTip.alpha=0,function(){for(var e=0;e<8;e++){var n=c["btn"+e];n.fork.visible=!1,NBDrag.addDrag(n),n.addEventListener(NBDrag.event.START_DRAG,t),n.addEventListener(NBDrag.event.DRAG_MOVE,r),n.addEventListener(NBDrag.event.STOP_DRAG,i),n.index=e,n.startX0=n.x,n.startY0=n.y}}(),c.Arr0=e.Arr0,c.Arr1=e.Arr1,c.container0.alpha=c.container1.alpha=0,c.container0.y=210,c.container0.height=220,c.container1.y=510,c.posArr0=[],c.posArr1=[],c.shadowArr0=[],c.shadowArr1=[]}},{key:"frame0",value:function(){}},{key:"start",value:function(){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"start",this).call(this),this.gotoStep("frame1")}}]),t}(nb.stem.STEMMain)},575:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};n.event={CLICK_NODE:"nodeTap",CLICK_NODE_REACHED:"nodeTapReached",ON_COMPLETE:"timelineComplete",ON_PLAY:"timelinePlaying",REACHED_NODE:"reachedNode",START_DRAG:"startDrag",DRAGING:"draging",STOP_DRAG:"stopDrag"},n.init=function(){function e(){t._auto_&&!t.drag.isDragging&&("vertical"===o?t.drag.y+=t._speed_:t.drag.x+=t._speed_,p())}var t=this;if(t.bgMask){var r=t.bgMask.getChildAt(0);t.progressBar.mask=r,r.scale.x=0}var a,i,o=this.a0.x===this.a1.x?"vertical":"horizontal",s=0,l=[];t.drag.lastPos={x:t.drag.x,y:t.drag.y};for(var c=0;c<int.MAX_VALUE;c++){var u=this["a"+c];if(void 0===u){i="vertical"===o?this["a"+(c-1)].y:this["a"+(c-1)].x,s=c;break}l.push(u),0===c&&(a="vertical"===o?u.y:u.x),u.addEventListener(TouchEvent.TAP,function(){var e=this;"vertical"===o?TweenMax.to(t.drag,.5,{y:this.y}):TweenMax.to(t.drag,.5,{x:this.x,onComplete:function(){t.emit(n.event.CLICK_NODE_REACHED,{index:e.name.substr(1,1)})}}),this.totalFrames&&(l.forEach(function(e){return e.currentFrame=0}),this.currentFrame=1),t.drag.lastPos={x:this.x,y:this.y},t.emit(n.event.CLICK_NODE,{index:this.name.substr(1,1)})})}this.setDrag=function(e){e?(NBDrag.addDrag(t.drag),t.drag.on(NBDrag.event.START_DRAG,function(){var e=(t.drag.x-a)/(i-a);t.emit(n.event.START_DRAG,{time:e})}),t.drag.on(NBDrag.event.DRAG_MOVE,function(){var e=(t.drag.x-a)/(i-a);t.emit(n.event.DRAGING,{time:e})}),t.drag.on(NBDrag.event.STOP_DRAG,function(){var e=(t.drag.x-a)/(i-a);t.emit(n.event.STOP_DRAG,{time:e}),e>=1&&t.emit(n.event.ON_COMPLETE,{time:e})})):NBDrag.removeDrag(t.drag)},t.drag.addEventListener(NBDrag.event.STOP_DRAG,function(){if(!1!==t._align_){var e=s-1;if("vertical"===o){var r=Math.round((this.y-a)/(i-a)*e);r<0&&(r=0)}else{var n=Math.round((this.x-a)/(i-a)*e);n<0&&(n=0)}}}),t.drag.addEventListener(NBDrag.event.DRAG_MOVE,function(){p()});var d=!1;t.drag.constY=t.drag.y;var p=function(){t.drag.y=t.drag.constY,t.drag.x>=i&&(t.drag.x=i),t.drag.x<=a&&(t.drag.x=a);var e=(t.drag.x-a)/(i-a);if(e<1){d=!1,t.emit(n.event.ON_PLAY,{time:e});for(var r=0;r<l.length;r++)t.drag.lastPos.x<=l[r].x&&t.drag.x>l[r].x&&t.emit(n.event.REACHED_NODE,{index:r})}else d||(d=!0,t.emit(n.event.ON_COMPLETE,{time:e}));if(t.drag.line0&&(t.drag.line0.rotation=1800*e*Math.PI/180,t.drag.line1.rotation=360*e*Math.PI/180),t.bgMask){t.bgMask.getChildAt(0).scale.x=e}t.drag.lastPos={x:t.drag.x,y:t.drag.y}};this.getNodeCount=function(){return s},this.setNodePos=function(e){var r=this["a"+e];"vertical"===o?t.drag.y=r.y:t.drag.x=r.x},nb.MovieClip.ticker.add(e),this.setAutoPlay=function(e,t){this._auto_=e,this._speed_=t||.1},this.setAutoAlign=function(e){this._align_=e};var f;this.setMomentsPause=function(e,r,n){!function(){clearTimeout(f),e&&!t.NOTafterStopPlay?(t.setAutoPlay(!1),clearTimeout(f),t.setAutoPlay(!1),f=setTimeout(function(){t.setAutoPlay(!0,n)},r)):t.setAutoPlay(!1)}()},this.resetTimeline=function(){if(this.drag.x=this.bgMask.x,t.bgMask){t.bgMask.getChildAt(0).scale.x=0}}},t.default=n}});