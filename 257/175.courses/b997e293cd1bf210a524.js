webpackJsonp([175,267],{239:function(t,e,a){"use strict";nb.substance0147=extendsClass(ScienceMain,{frame0:function(){instance.viewStack.NBONOFF.visible=!1;var t=this.timeline,e=this.step0,a=this.step1,n=!1;a.alpha=0,t.setAutoPlay(!0,1),t.on("change",function(i){!n&&i.time>=1&&(n=!0,TweenMax.to([t,e],.5,{alpha:0,delay:1,onComplete:function(){TweenMax.to(a,.5,{alpha:1})}}));for(var r=1;r<4;r++)e["container"+r].s.alpha=i.time})},start:function(){this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"铁在什么情况下容易生锈？我们怎么防止、减缓铁生锈呢？",labName:"控制铁生锈的速度",CONCLUSION:"铁钉生锈是水和空气共同作用的结果。",newLayOut:!0,bgColor:"#F3E6CF"},const:{},event:{}}),nb.timelineSprite=function(){var t,e,a=this;if(a.bgMask){var n=a.bgMask.getChildAt(0);a.progressBar.mask=n,n.scale.x=0}for(var i,r=this.a0.x===this.a1.x?"vertical":"horizontal",o=0,s=0;s<int.MAX_VALUE;s++){var h=this["a"+s];if(void 0===h){e="vertical"===r?this["a"+(s-1)].y:this["a"+(s-1)].x,o=s;break}0===s&&(t="vertical"===r?h.y:h.x),h.addEventListener(TouchEvent.TAP,function(){"vertical"===r?TweenMax.to(a.drag,.5,{y:this.y,onUpdate:c,onComplete:l}):TweenMax.to(a.drag,.5,{x:this.x,onUpdate:c,onComplete:l}),a.emit("nodeTap",{index:this.name.substr(1,1)})})}this.setDrag=function(t){t&&NBDrag.addDrag(a.drag,i)},this.updateBound=function(){"vertical"==r?(i={x:this.drag.x,y:this.drag.y,width:0,height:e},i={x:this.drag.x,y:this.drag.y,width:0,height:e}):i={x:this.drag.x,y:this.drag.y,width:e,height:0}},this.updateBound(),a.drag.addEventListener(NBDrag.event.STOP_DRAG,function(){if(!1!==a._align_){var n=o-1;if("vertical"===r){var i=Math.round((this.y-t)/(e-t)*n);i<0&&(i=0),TweenMax.to(this,.5,{y:i*(e-t)/n,onUpdate:c,onComplete:l})}else{var s=Math.round((this.x-t)/(e-t)*n);s<0&&(s=0)}}}),a.drag.addEventListener(NBDrag.event.DRAG_MOVE,function(){c()}),a.drag.constY=a.drag.y;var d,c=function(){if("vertical"===r){var n=(a.drag.y-t)/(e-t);a.emit("change",{time:n})}else{a.drag.y=a.drag.constY,a.drag.x>=e&&(a.drag.x=e),a.drag.x<=t&&(a.drag.x=t);var i=(a.drag.x-t)/(e-t);a.emit("change",{time:i}),a.drag.line0&&(a.drag.line0.rotation=1800*i*Math.PI/180,a.drag.line1.rotation=360*i*Math.PI/180),a.bgMask&&(a.bgMask.getChildAt(0).scale.x=i)}},l=function(){a.setMomentsPause(!0,2e3,2);var n=o-1;if("vertical"===r){var i=(a.drag.y-t)/(e-t),s=Math.round(i*n);a.emit("change",{index:s,time:i})}else{var h=(a.drag.x-t)/(e-t),d=Math.round(h*n);a.emit("change",{index:d,time:h})}};this.getNodeCount=function(){return o},this.setNodePos=function(t){var e=this["a"+t];"vertical"===r?a.drag.y=e.y:a.drag.x=e.x},nb.MovieClip.ticker.add(function(){if(a._auto_&&!a.drag.isDragging){var n=e-t;"vertical"===r?(a.drag.y+=a._speed_,a.drag.y>n&&(a.drag.y=n)):(a.drag.x+=a._speed_,a.drag.x>n+a.a0.x&&(a.drag.x=n+a.a0.x)),c()}}),this.setAutoPlay=function(t,e){this._auto_=t,this._speed_=e||.1},this.setAutoAlign=function(t){this._align_=t},this.setMomentsPause=function(t,e,n){clearTimeout(d),t&&!a.NOTafterStopPlay?(a.setAutoPlay(!1),clearTimeout(d),a.setAutoPlay(!1),d=setTimeout(function(){a.setAutoPlay(!0,n)},e)):a.setAutoPlay(!1)},this.resetTimeline=function(){this.drag.x=this.bgMask.x}},t.exports=nb.substance0147},388:function(t,e,a){"use strict";a(239),nb.substance0559=extendsClass(ScienceMain,{frame0:function(){var t=this,e=[t.ang0,t.ang45,t.ang90,t.ang135,t.ang180,t.ang225,t.ang270,t.ang315],a=[t.hitArea0,t.hitArea45,t.hitArea90,t.hitArea135,t.hitArea180,t.hitArea225,t.hitArea270,t.hitArea315],n=[];t.okORno.alpha=.1,e.forEach(function(t,e){t.povit={x:t.width/2,y:t.height/2},a[e].povit={x:a[e].width/2,y:a[e].height/2},n[e]=parseInt(t.name.split("ang")[1]),NBDrag.addDrag(t),t.addEventListener(NBDrag.event.START_DRAG,h),t.addEventListener(NBDrag.event.STOP_DRAG,l)}),t.CPBtn.addEventListener(TouchEvent.TAP,o),t.okORno.addEventListener(TouchEvent.TAP,s),t.okORno.interactive=!1;var i=!0,r=[];function o(){var e=this;c=!0,t.okORno.interactive=!1,TweenMax.to(t.okORno,.4,{alpha:.1}),instance.NBDownTip.hideTip(),instance.NBDownTipsError.hideTip(),this.interactive=!1;var a=function t(){var e=[];n.forEach(function(t){var a=360*Math.random()*Math.PI/180;e.push(Math.abs(a-t*Math.PI/180))});var a=Math.min.apply(null,e);var i=n[e.indexOf(a)]*Math.PI/180;f.push(i);return i===f[f.length-2]?t():i}();r.push(a),TweenMax.killTweensOf(t.turntable),TweenMax.to(t.turntable,1,{rotation:a,onComplete:function(){e.interactive=!0,i&&instance.NBDownTip.showTip("拖动文字，填入正确的方向")}}),10===f.length&&(f=[0])}function s(){!function(){var a=[0,1,2,3,4,5,6,7],i=0,r=n.indexOf(180*t.turntable.rotation/Math.PI);for(var o in a)a[o]-=r,a[o]<0&&(a[o]+=a.length);e.forEach(function(t,e){parseInt(t.name.split("ang")[1])===n[a[e]]&&(TweenMax.to(t,.4,{alpha:1}),i++),parseInt(t.name.split("ang")[1])!==n[a[e]]&&(t.alpha=1,TweenMax.killTweensOf(t),TweenMax.to(t,.4,{alpha:.3,yoyo:!0,repeat:-1})),8==i&&instance.NBDownTip.showTip("排序已正确！不如“改变位置”再试试吧")})}(),TweenMax.to(this,.4,{alpha:.1}),this.interactive=!1;var a=[],i=!0,o=!1,s=void 0;try{for(var h,d=e[Symbol.iterator]();!(i=(h=d.next()).done);i=!0){var c=h.value;a.push(parseInt(c.name.split("ang")[1]))}}catch(t){o=!0,s=t}finally{try{!i&&d.return&&d.return()}finally{if(o)throw s}}(function(t,a){var i=0,r=0,o=0;for(var s in a)isNaN(s)||0!=a.length&&(o=n.indexOf(180*a[a.length-1]/Math.PI));if(45===Math.abs(t[0]-t[t.length-1])||315===Math.abs(t[0]-t[t.length-1])){for(var h in t)h<t.length-1&&(45===Math.abs(t[h]-t[h-0+1])&&i++,315===Math.abs(t[h]-t[h-0+1])&&r++);return r+i===7&&r<=1&&e[o].name.split("ang")[1]-0==0}return!1})(a,r)?(instance.NBDownTipsError.hideTip(),instance.NBDownTip.showTip("正确！请点击“改变位置”再试试")):(instance.NBDownTip.hideTip(),instance.NBDownTipsError.showTip("方向判断错误！请再试一试"))}function h(){instance.NBDownTip.hideTip(),instance.NBDownTipsError.hideTip(),t.setChildIndex(this,t.children.length-1),this.startX=this.x,this.startY=this.y}var d=!0,c=!0;function l(){var n=!1,r=!0,o=!1,s=void 0;try{for(var h,l=a[Symbol.iterator]();!(r=(h=l.next()).done);r=!0){var f=h.value;if(this.hitTest(f)&&e.indexOf(this)!==a.indexOf(f)){TweenMax.to(this,.4,{x:e[a.indexOf(f)].x,y:e[a.indexOf(f)].y}),TweenMax.to(e[a.indexOf(f)],.4,{x:this.startX,y:this.startY,onComplete:function(){e.forEach(function(t){TweenMax.killTweensOf(t),TweenMax.to(t,.4,{alpha:1})}),TweenMax.to(t.okORno,.4,{alpha:1}),t.okORno.interactive=!0}}),d=!1,n=!0,i=!1,c&&(TweenMax.to(t.okORno,.4,{alpha:1}),t.okORno.interactive=!0,c=!1);var g=a.indexOf(f),p=e.indexOf(this),u=e[g];e[g]=this,e[p]=u}}}catch(t){o=!0,s=t}finally{try{!r&&l.return&&l.return()}finally{if(o)throw s}}n||(d&&instance.NBDownTip.showTip("拖动文字，填入正确的方向"),TweenMax.to(this,.4,{x:this.startX,y:this.startY}))}var f=[0];for(var g=0;g<7;g++)p();function p(){var t=Math.floor(8*Math.random()),a=Math.floor(8*Math.random());if(t!==a){var n=e[a],i=e[a].x,r=e[a].y;e[a].x=e[t].x,e[a].y=e[t].y,e[t].x=i,e[t].y=r,e[a]=e[t],e[t]=n}}},start:function(){this.menu.addStepFromObj(this.info),this.bindScriptToSprite(this.frame0,"frame0"),this.gotoStep("frame0")},info:{experimentImport:"用指南针怎么定方向？",labName:"用指南针定方向",title0:"根据指南针判断方向",CONCLUSION:"",isOffset:!0,needNoOperationTip:"拖动文字，填入正确的方向",isOpenObserve:!0,isNoResetBtn:!0},const:{},event:{}}),t.exports=nb.substance0559}});