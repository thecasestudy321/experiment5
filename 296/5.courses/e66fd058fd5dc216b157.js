webpackJsonp([5],{169:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,n){for(var i=new PIXI.Container,r=new PIXI.filters.ColorMatrixFilter,o=a||!1,s=n||{addArrow:!1,type:"horizontal",scale:1},d=new PIXI.Container,l=0;l<3;++l){var h=l+1,c=PIXI.Sprite.fromFrame("TAP_1"+h);c.x=-c.width/2,c.y=-c.height/2;var v=new PIXI.Container;v.addChild(c),d.addChild(v)}var f=0;if(s.direction)switch(s.direction){case"top":f=-Math.PI/2;break;case"bottom":f=Math.PI/2;break;case"left":f=Math.PI;break;case"right":f=0;break;default:f=0}d.filters=[r];for(var u=0;u<d.children.length;u++){var g=d.children[u];g.scale.x=g.scale.y=2,u<2&&D(g,.75*u)}if(i.addChild(d),s.addArrow){var m,p;if(s.direction){m=PIXI.Sprite.fromFrame("oneArrow"),p=new PIXI.extras.MovieClip([m]);var T=s.scale?s.scale:1;p.scale.x=p.scale.y=T,p.pivot={x:0,y:p.height/2},p.rotation=f}else{m=PIXI.Sprite.fromFrame("NBarrow"),(p=new PIXI.extras.MovieClip([m])).pivot={x:p.width/2,y:p.height/2};var x=s.scale?s.scale:1;p.scale.x=p.scale.y=x,"horizontal"!==(s.type?s.type:"horizontal")&&(p.rotation=Math.PI/2)}i.addChild(p),i.arrow=p,i.addEventListener("hideArrow",function(){p.alpha=0,p.visible=!1}),i.addEventListener("showArrow",function(){p.alpha=1,p.visible=!0})}d.alpha=.4;var E=new PIXI.Graphics;function D(e,t){TweenMax.to(e,1.5,{delay:t,alpha:0,repeat:-1}),TweenMax.to(e.scale,1.5,{x:5,y:5,delay:t,repeat:-1})}return E.beginFill(16776960,0),E.drawRect(-50,-50,100,100),i.addChild(E),i.addEventListener(MouseEvent.MOUSE_OVER,function(){d.alpha=.6}),i.addEventListener(MouseEvent.MOUSE_OUT,function(){d.alpha=.4}),i.addEventListener(TouchEvent.TOUCH_BEGIN,function(){i.emit(i.event.TAP),!o&&i.parent&&i.parent.removeChild(i)}),i.x=e,i.y=t,i.setColor=function(e){var t=e>>16,a=e>>8&255,n=255&e;r._loadMatrix([t,0,0,0,0,0,a,0,0,0,0,0,n,0,0,0,0,0,255,0],!1),d.filters=[r]},i.setRotation=function(e){i.rotation=e},i.showAllDir=function(){if(s.direction)for(var e=0;e<3;e++){var t=new PIXI.Container;t.addChild(PIXI.Sprite.fromFrame("oneArrow")),i.addChild(t),t.pivot={x:0,y:p.height/2},t.rotation=Math.PI/2*(e+1)}else{var a=new PIXI.Container;a.addChild(PIXI.Sprite.fromFrame("NBarrow")),i.addChild(a),a.pivot={x:p.width/2,y:p.height/2},a.rotation=i.rotation+Math.PI/2}},i.event={TAP:"pointTap",HIDEARR:"hideArrow",SHOWARR:"showArrow"},instance.info&&instance.info.newLayOut&&i.scale.set(.6,.6),i}},354:function(e,t,a){"use strict";var n=l(a(169)),i=l(a(527)),r=l(a(539)),o=l(a(522)),s=l(a(520)),d=l(a(521));function l(e){return e&&e.__esModule?e:{default:e}}nb.substance0144=extendsClass(ScienceMain,{frame0:function(){instance.viewStack.NBONOFF.visible=!1;var e=this.timeline,t=this.form;o.default.apply(this.form),d.default.apply(this),instance.pageOne.apply(this.step0,[{form:t,timeline:e}]),instance.frame1.apply(this.step1,[{form:t,timeline:e}]),instance.frame2.apply(this.step2,[{form:t,timeline:e}]),instance.frame3.apply(this.step3,[{form:t}]);for(var a=0;a<4;a++)t.dragForm["t"+a].alpha=0,this["step"+a].over=!1,a<3&&(this["step"+a].next=this["step"+(a+1)]),a>0&&(e["a"+a].shan.alpha=0);e.addEventListener(s.default.event.CLICK_NODE,function(){for(var t=1;t<4;t++)TweenMax.killTweensOf(e["a"+t].shan),e["a"+t].shan.alpha=!1})},pageOne:function(e){var t=this,a=e.timeline,r=e.form;t.addChild(t.glass),t.glass.x=1007,t.glass.y=184,i.default.apply(t,[t.glass,{littlePng:"a",bigPng:"w",tipOffsetX:-140,tipOffsetY:100,iconOffsetX:-155,iconOffsetY:100}]);var o=(0,n.default)(90,90,!0);t.glass.addChild(o),t.glass.addEventListener(NBDrag.event.START_DRAG,function(){t.glass.removeChild(o)}),t.glass.addEventListener(NBDrag.event.DRAG_MOVE,function(){t.bottom.hitTest(t.a0)?(t.txt0.visible=!1,t.a0.touchState=!0):t.txt0.visible=!0,t.bottom.hitTest(t.a1)?(t.txt1.visible=!1,t.a1.touchState=!0):t.txt1.visible=!0,t.a0.touchState&&t.a1.touchState&&(t.over=!0,r.dragForm.t0.alpha=1)});var s=!1;t.glass.addEventListener(NBDrag.event.STOP_DRAG,function(){t.glass.removeChild(o),s||1!=r.dragForm.t0.alpha||t.next.over||(s=!0,instance.blingTip(a.a1.shan))})},frame1:function(e){var t=this,a=e.timeline,n=e.form,i=[];i.push(t.hammerTarget0),i.push(t.hammerTarget1),r.default.apply(t.hammer,[{ifHItArea:!1,notBack:!0}]),t.hammer.targetArray=i,t.hammer.head.addEventListener(TouchEvent.TOUCH_BEGIN,function(){t.hammer.head.isDrag=!0,instance.NBDownTip.hideTip()}),t.hammer.addEventListener(t.hammer.event.HAMMER_REACH,function(){t.hammer.headIsSlide||(t.hammer.headIsSlide=!0,t.hammer.emit(t.hammer.event.SHOWARR,{x:-130,y:0}))}),t.hammer.addEventListener(t.hammer.event.HIT_STOP,function(e){e.power>.2&&(1==e.index&&(t.iron11.loop=!1,t.iron11.play()),i.splice(i.indexOf(t["hammerTarget"+e.index]),1),t["hammerTarget"+e.index].hitState=!0,t.hammer.resetSimpleDrag(),0==i.length&&(n.dragForm.t1.alpha=1,t.over=!0,t.hammer.interactive=!1,TweenMax.to(t.hammer,.3,{alpha:0,delay:.5})))});var o=!1;this.onUpdate=function(){o||1!=n.dragForm.t1.alpha||t.next.over||(o=!0,instance.blingTip(a.a2.shan))}},frame2:function(e){var t=this,a=e.timeline,i=e.form;NBDrag.addDrag(t.iron0),NBDrag.addDrag(t.iron1),t.bulb.alpha=0,t.iron0.startX=t.iron0.x,t.iron0.startY=t.iron0.y,t.iron1.startX=t.iron1.x,t.iron1.startY=t.iron1.y;var r=(0,n.default)(0,0),o=(0,n.default)(0,0);function s(e){var a=e.target,n=a.name.substr(-1,1);t.addChild(a),a.removeChild(a.Point),instance.NBDownTipsError.hideTip(),"0"===n&&TweenMax.to(t.bulb,.1,{alpha:0}),t["txt"+n].alpha=0}t.iron0.addChild(r),t.iron0.Point=r,t.iron1.Point=o,t.iron0.addEventListener(NBDrag.event.START_DRAG,s),t.iron1.addEventListener(NBDrag.event.START_DRAG,s);var d=!1;function l(e){var a=e.target.name.substr(-1,1),n=0==a?1:0,s=t["iron"+n];this.hitTest(t.ref)&&this.hitTest(s)?(this.isHit=!0,"iron0"===this.name?TweenMax.to(t.bulb,.1,{alpha:1}):TweenMax.to(t.bulb,.1,{alpha:0}),TweenMax.to(this,.5,{x:t.ref.x,y:t.ref.y}),TweenMax.to(s,.5,{x:s.startX,y:s.startY,onComplete:function(){t["txt"+n].alpha=1}})):this.hitTest(t.ref)?(this.isHit=!0,TweenMax.to(this,.5,{x:t.ref.x,y:t.ref.y}),"iron0"==this.name?TweenMax.to(t.bulb,.1,{alpha:1}):TweenMax.to(t.bulb,.1,{alpha:0})):TweenMax.to(this,.5,{x:this.startX,y:this.startY,onComplete:function(){t["txt"+a].alpha=1}}),t.iron0.isHit?t.iron1.isHit?(i.dragForm.t2.alpha=1,t.over=!0):t.iron1.addChild(o):t.iron0.addChild(r)}this.onUpdate=function(){d||1!=i.dragForm.t2.alpha||t.next.over||(d=!0,instance.blingTip(a.a3.shan))},t.iron1.addEventListener(NBDrag.event.START_DRAG,function(){t.addChild(t.iron1)}),t.iron1.addEventListener(NBDrag.event.STOP_DRAG,l),t.iron0.addEventListener(NBDrag.event.STOP_DRAG,l)},frame3:function(e){var t,a=this,i=e.form,r=[],o=a.magnet.width/10;NBDrag.addDrag(a.magnet);var s=(0,n.default)(0,-30);a.magnet.addChild(s),a.magnet.addEventListener(NBDrag.event.START_DRAG,function(e){if(t=(100*Math.random()-50)*Math.PI/180,r[0]=t,"iron0"===e.target.name){var n=e.target;n.txt0.visible=!1,n.parent===a.magnet&&a.addChildWithSamePos(n)}else if("iron1"===e.target.name){var i=e.target;i.txt0.visible=!1}else{var o=e.target;o.removeChild(s)}}),a.magnet.addEventListener(NBDrag.event.DRAG_MOVE,function(){a.magnet.lRef.hitTest(a.iron0.ref)&&a.iron0.parent==a&&(TweenMax.killTweensOf(a.iron0),a.magnet.removeChild(s),TweenMax.to(a.iron0,.1,{x:-a.magnet.width/2+2*o,y:-a.magnet.height/2,rotation:r[0],onComplete:function(){a.iron0.isHit=!0,a.iron0.txt0.visible=!1}}),a.magnet.addChildWithSamePos(a.iron0)),a.magnet.rRef.hitTest(a.iron0.ref)&&a.iron0.parent==a&&(TweenMax.killTweensOf(a.iron0),a.magnet.removeChild(s),TweenMax.to(a.iron0,.1,{x:-a.magnet.width/2+8*o,y:-a.magnet.height/2,rotation:r[0],onComplete:function(){a.iron0.isHit=!0,a.iron0.txt0.visible=!1}}),a.magnet.addChildWithSamePos(a.iron0)),a.magnet.hitTest(a.iron1)&&(a.iron1.isHit=!0),a.iron0.isHit&&a.iron1.isHit&&(i.dragForm.t3.alpha=1,a.over=!0,a.magnet.removeChild(s))})},blingTip:function(e){var t=TweenMax.to(e,2,{ease:Power0.easeNone,repeat:-1,onUpdate:function(){var a=t.progress();e.alpha=a<=.5?2*a:1-2*(a-.5)}})},start:function(){this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"生活中,我们经常会看到一些铁制品生锈。铁生锈后有什么不同？铁和铁锈是同一种物质吗？",labName:"铁片和铁锈",CONCLUSION:"铁生锈是一种化学变化,铁锈是一种不同于铁的一种新物质。",newLayOut:!0,bgColor:"#F3E6CF"},const:{},event:{}}),e.exports=nb.substance0144},520:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={event:{CLICK_NODE:"nodeTap",CLICK_NODE_REACHED:"nodeTapReached",ON_COMPLETE:"timelineComplete",ON_PLAY:"timelinePlaying",REACHED_NODE:"reachedNode",START_DRAG:"startDrag",DRAGING:"draging",STOP_DRAG:"stopDrag"},init:function(){var e,t,a=this;if(a.bgMask){var i=a.bgMask.getChildAt(0);a.progressBar.mask=i,i.scale.x=0}var r=this.a0.x===this.a1.x?"vertical":"horizontal",o=0,s=[];a.drag.lastPos={x:a.drag.x,y:a.drag.y};for(var d=0;d<int.MAX_VALUE;d++){var l=this["a"+d];if(void 0===l){t="vertical"===r?this["a"+(d-1)].y:this["a"+(d-1)].x,o=d;break}s.push(l),0===d&&(e="vertical"===r?l.y:l.x),l.addEventListener(TouchEvent.TAP,function(){var e=this;"vertical"===r?TweenMax.to(a.drag,.5,{y:this.y}):TweenMax.to(a.drag,.5,{x:this.x,onComplete:function(){a.emit(n.event.CLICK_NODE_REACHED,{index:e.name.substr(1,1)})}}),this.totalFrames&&(s.forEach(function(e){return e.currentFrame=0}),this.currentFrame=1),a.drag.lastPos={x:this.x,y:this.y},a.emit(n.event.CLICK_NODE,{index:this.name.substr(1,1)})})}this.setDrag=function(i){i?(NBDrag.addDrag(a.drag),a.drag.on(NBDrag.event.START_DRAG,function(){var i=(a.drag.x-e)/(t-e);a.emit(n.event.START_DRAG,{time:i})}),a.drag.on(NBDrag.event.DRAG_MOVE,function(){var i=(a.drag.x-e)/(t-e);a.emit(n.event.DRAGING,{time:i})}),a.drag.on(NBDrag.event.STOP_DRAG,function(){var i=(a.drag.x-e)/(t-e);a.emit(n.event.STOP_DRAG,{time:i}),i>=1&&a.emit(n.event.ON_COMPLETE,{time:i})})):NBDrag.removeDrag(a.drag)},a.drag.addEventListener(NBDrag.event.STOP_DRAG,function(){if(!1!==a._align_){var n=o-1;if("vertical"===r){var i=Math.round((this.y-e)/(t-e)*n);i<0&&(i=0)}else{var s=Math.round((this.x-e)/(t-e)*n);s<0&&(s=0)}}}),a.drag.addEventListener(NBDrag.event.DRAG_MOVE,function(){v()});var h=!1;a.drag.constY=a.drag.y;var c,v=function(){a.drag.y=a.drag.constY,a.drag.x>=t&&(a.drag.x=t),a.drag.x<=e&&(a.drag.x=e);var i=(a.drag.x-e)/(t-e);if(i<1){h=!1,a.emit(n.event.ON_PLAY,{time:i});for(var r=0;r<s.length;r++)a.drag.lastPos.x<=s[r].x&&a.drag.x>s[r].x&&a.emit(n.event.REACHED_NODE,{index:r})}else h||(h=!0,a.emit(n.event.ON_COMPLETE,{time:i}));(a.drag.line0&&(a.drag.line0.rotation=1800*i*Math.PI/180,a.drag.line1.rotation=360*i*Math.PI/180),a.bgMask)&&(a.bgMask.getChildAt(0).scale.x=i);a.drag.lastPos={x:a.drag.x,y:a.drag.y}};this.getNodeCount=function(){return o},this.setNodePos=function(e){var t=this["a"+e];"vertical"===r?a.drag.y=t.y:a.drag.x=t.x},nb.MovieClip.ticker.add(function(){a._auto_&&!a.drag.isDragging&&("vertical"===r?a.drag.y+=a._speed_:a.drag.x+=a._speed_,v())}),this.setAutoPlay=function(e,t){this._auto_=e,this._speed_=t||.1},this.setAutoAlign=function(e){this._align_=e},this.setMomentsPause=function(e,t,n){clearTimeout(c),e&&!a.NOTafterStopPlay?(a.setAutoPlay(!1),clearTimeout(c),a.setAutoPlay(!1),c=setTimeout(function(){a.setAutoPlay(!0,n)},t)):a.setAutoPlay(!1)},this.resetTimeline=function(){(this.drag.x=this.bgMask.x,a.bgMask)&&(a.bgMask.getChildAt(0).scale.x=0)}}};t.default=n},521:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e=e||{};var t=this,a=[];n.default.init.apply(this.timeline);for(var i=0;i<this.timeline.getNodeCount();i++){var r=this["step"+i];a.push(r),r.alpha=0,r.visible=!1}var o=this.step0;o.visible=!0,o.alpha=1;var s=0;this.timeline.on(n.default.event.CLICK_NODE,function(n){if(void 0!==n.index&&n.index!=s){var i=e.offset||1200;i=n.index>s?$s(i):-$s(i);var r=void 0!==o.currentX?o.currentX:o.currentX=o.x;TweenMax.to(o,e.oldTm||.6,{x:r+i,alpha:0,onComplete:function(t){t.visible=!1,e.isFix||(t.y=0)},onCompleteParams:[o],ease:Expo.easeOut}),s=n.index,(o=a[s]).visible=!0,r=void 0!==o.currentX?o.currentX:o.currentX=o.x,o.x=r-i,TweenMax.to(o,e.newTm||1,{x:r,alpha:1,ease:Expo.easeOut,onComplete:function(){t.emit(t.boxSwitch_event.CHANGE_COM,{target:o,index:n.index})}})}}),this.addEventListener("render",function(){o.onUpdate&&o.onUpdate()}),t.boxSwitch_event={CHANGE_COM:"changeCom"}};var n=function(e){return e&&e.__esModule?e:{default:e}}(a(520))},522:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=e||this,n=a.parent,i=a.record,r=Object.assign({offsetX:-(a.width+10),offsetY:100,limitRect:!0},t),o=instance.stage.NBONOFF||instance.viewStack.NBONOFF,s=Sine.easeInOut;n.bgMask&&(a.mask=n.bgMask.children[0]);a.x=1280-a.record.width-2,a.y=60+o.height*o.scale.y+5;var d=a.x,l=a.y,h=a.x+r.offsetX,c=a.y+r.offsetY;i.addEventListener(TouchEvent.TAP,u);var v=i.x-a.dragForm.x,f=i.y-a.dragForm.y;function u(e){instance.NBDownTip.hideTip(),instance.NBDownTipsError.hideTip(),n.setChildIndex(a,n.children.length-1),a.x==d?(a.emit("showData",{goBack:!1}),TweenMax.to(a,.4,{y:c,onComplete:function(){TweenMax.to(a,.4,{x:h,onComplete:function(){var e=void 0;r.limitRect&&(e={x:0,y:0,width:1280-a.width/3,height:720-a.height}),NBDrag.addDrag(a,e),a.addEventListener(NBDrag.event.DRAG_MOVE,p),a.addEventListener(NBDrag.event.STOP_DRAG,g),i.icon&&TweenMax.to(i.icon,.2,{rotation:Math.PI,ease:s})}})}}),r.showModelMask&&(TweenMax.killTweensOf(n.recordGra),TweenMax.to(n.recordGra,.5,{alpha:1,onComplete:function(){n.setChildIndex(a,n.children.length-1),n.setChildIndex(n.recordGra,n.children.length-2)}}))):(a.emit("showData",{goBack:!0}),e&&m())}function g(){instance.NBDownTip.hideTip(),instance.NBDownTipsError.hideTip(),a.x>d-a.width/3&&m()}function m(){TweenMax.to(a,.5,{x:d,onComplete:function(){TweenMax.to(a,.4,{y:l,onComplete:function(){NBDrag.removeDrag(a),a.removeEventListener(NBDrag.event.DRAG_MOVE,p),a.removeEventListener(NBDrag.event.STOP_DRAG,g),i.icon&&TweenMax.to(i.icon,.2,{rotation:0,ease:s})}})}}),r.showModelMask&&(TweenMax.killTweensOf(n.recordGra),TweenMax.to(n.recordGra,.5,{alpha:0,onComplete:function(){n.setChildIndex(n.recordGra,0)}}))}function p(){a.record.x=v+a.dragForm.x,a.record.y=f+a.dragForm.y}a.showRecord=u,a.recordBack=m,function(){if(r.showModelMask){var e=new PIXI.Graphics;e.beginFill(0,.6),e.drawRect(0,0,1280,720),e.endFill(),n.addChild(e),n.recordGra=e,n.setChildIndex(n.recordGra,0),n.setChildIndex(a,n.children.length-1),n.recordGra.alpha=0,e.addEventListener(TouchEvent.TAP,function(){})}}()}},526:function(e,t,a){"use strict";(function(t){var a=t.nb;a.simpleDrag=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e||this,i=n.parent,r=-1,o=0;n.defaultX=n.x,n.defaultY=n.y,n.defaultScale=n.scale.x,n.defaultRotation=n.rotation,n.backDefaultFun=function(e){var t=this,n=e.Interactive,i=void 0===n||n,r=this;TweenMax.to(r,.5,{x:r.defaultX,y:r.defaultY,rotation:r.defaultRotation,onComplete:function(){r.interactive=i,t.dragging=!1,r.txtObj&&r.txtFun({show:!0}),r.emit(a.simpleDrag.event.BACK_DEFAULT_POS)}}),TweenMax.to(r.scale,.5,{x:r.defaultScale,y:r.defaultScale})};var s=Object.assign({scale:1,del:0,backDefaultPos:!1,alphaReach:.6,alphaNotReach:.3,expandRadius:0,txtName:"lable"},t),d=s.scale,l=s.del,h=s.backDefaultPos,c=s.alphaReach,v=s.alphaNotReach,f=s.expandRadius,u=d,g=l,m=c,p=v,T=s.txtName;function x(e){var t=e.tempObj,a=e.targetArray,r=e.targetString,o=e.number;if(t){var s,d=new PIXI.Sprite,l=!1;n.totalFrames>0?(l=!0,(s=n[0]).reverse()):(s=n.children.concat(),n.background instanceof PIXI.DisplayObject&&(s=[n.background])),s.forEach(function(e){if(e instanceof PIXI.DisplayObject||(e=e.dis),!e.mask)if(l){if(e.dis instanceof PIXI.Text)return;var t=e.clone();e.name=t.name,t&&(t.x=e.x,t.y=e.y,d.addChild(t))}else{if(e instanceof PIXI.Text)return;var a=e.clone();a&&a.name&&(e.name=a.name),a&&(a.x=e.x,a.y=e.y,d.addChild(a))}}),d.x=t.x,d.y=t.y;var h=i.getChildIndex(t);if(-1===h&&(h=i.children.length-1),i.addChildAt(d,h),window.cloneSSS=d,f){var c=new PIXI.Graphics;c.beginFill(16711680,0),c.drawCircle(0,0,f),c.endFill(),d.addChild(c)}if(TweenMax.to(d,0,{x:t.x,y:t.y,rotation:g*Math.PI/180,width:d.width*u,height:d.height*u}),r)(t=d).alpha=0,t.name=r,a[o]=t;else{d.name=t.name;var v=t.index;(t=d).alpha=0,t.name=d.name,a[v]=d}}}n[T]?(n.txtObj=n[T],n.txtFun=function(e){var t=e.show;this.txtObj.visible=Number(t)}):n.txtObj=null;var E=void 0===t.vAlpha?1:t.vAlpha;NBDrag.addDrag(n),n.addEventListener(NBDrag.event.START_DRAG,D),n.removeSimpleDrag=function(){NBDrag.removeDrag(n),n.removeEventListener(NBDrag.event.START_DRAG,D)},n.resetSimpleDrag=function(){r=-1,n.dragging=!1,n.removeSimpleDrag(),NBDrag.addDrag(n),n.addEventListener(NBDrag.event.START_DRAG,D)},n.setRotation=function(e){g=e},n.setScale=function(e){u=e},n.hideVirtuals=function(e){n.isHideVirtuals=e};function D(){if(!this.dragging&&(n.txtObj&&n.txtFun({show:!1}),-1===r?(r=function(e){if(n.targetArray){for(var t=n.targetArray,a=[],r=0;r<t.length;r++)t[r].index=r,x({tempObj:t[r],targetArray:a});return a}var o=[],s=1,d=void 0,l=0;do{x({tempObj:s=i[d=e+"Target"+l],targetArray:o,targetString:d,number:l}),l++}while(s);return o}(n.name)).length:r.length,!n.isHideVirtuals)){o=0;for(var e=0;e<r.length;e++)TweenMax.to(r[e],.5,{alpha:p*E});n.addEventListener(NBDrag.event.DRAG_MOVE,A),n.addEventListener(NBDrag.event.STOP_DRAG,w),n.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,w),n.emit(a.simpleDrag.event.START_DRAG),this.dragging=!0}}function A(){TweenMax.killTweensOf(n);for(var e=a.scienceCommonFun.hitTest2(n,r),t=0;t<r.length;t++){var i=r[t];TweenMax.to(i,.5,{alpha:p*E}),TweenMax.to(i.scale,.3,{x:u,y:u,ease:Power0.easeOut})}e&&(TweenMax.to(e,.5,{alpha:m*E}),TweenMax.to(e.scale,.3,{x:1.1*u,y:1.1*u,ease:Power0.easeIn}))}function w(){var e=this,t=-1,i=-1,s=0;n.removeEventListener(NBDrag.event.START_DRAG,D),n.removeEventListener(NBDrag.event.DRAG_MOVE,A),n.removeEventListener(NBDrag.event.STOP_DRAG,w),n.removeEventListener(TouchEvent.TOUCH_END_OUDSIDE,w),NBDrag.removeDrag(n),n.emit(a.simpleDrag.event.STOP_DRAG);for(var d=0;d<r.length;d++)TweenMax.to(r[d],.5,{alpha:0}),!1!==(s=n.hitTest(r[d]))&&(o=1,(-1===t||i<s)&&(t=d,i=s));if(1!==o)return NBDrag.addDrag(n),n.addEventListener(NBDrag.event.START_DRAG,D),n.emit(a.simpleDrag.event.NOT_REACH_TARGET,o),n.interactive=!1,o=0,h?(TweenMax.to(n,.5,{x:n.defaultX,y:n.defaultY,rotation:n.defaultRotation,onComplete:function(){n.interactive=!0,e.dragging=!1,n.txtObj&&n.txtFun({show:!0}),n.emit(a.simpleDrag.event.BACK_DEFAULT_POS)}}),TweenMax.to(n.scale,.5,{x:n.defaultScale,y:n.defaultScale}),void(o=0)):(this.dragging=!1,n.interactive=!0,void(n.txt&&(n.txt.visible=!0)));TweenMax.to(n.scale,.5,{x:u,y:u}),TweenMax.to(n,.5,{x:r[t].x,y:r[t].y,rotation:g*Math.PI/180,onComplete:function(){return this.target.dragging=!1,n.emit(a.simpleDrag.event.REACH_TARGET,r[t].name.valueOf()),r.splice(t,1),0===r.length?void 0:(o=0,NBDrag.addDrag(n),n.addEventListener(NBDrag.event.START_DRAG,D),void(n.interactive=!1))}}),n.emit(a.simpleDrag.event.REACH_TARGET_HITTED,r[t].name.valueOf())}n.setFreeDrag=function(e){e}},a.simpleDrag.event={START_DRAG:"startSimpleDrag",ON_HITTED:"hitted",REACH_TARGET_HITTED:"onReachHitted",REACH_TARGET:"onReachTarget",NOT_REACH_TARGET:"notReachTarget",FINISH_DRAG:"finishDrag",STOP_DRAG:"stopSimpleDrag",BACK_DEFAULT_POS:"backdefaultPos"},e.exports=a.simpleDrag}).call(t,a(5))},527:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=this,n=e,i=Object.assign({},{littlePng:"lPng",bigPng:"bPng",MAX_SCALE:1.6,MIN_SCALE:.82,START_BLUR:.5,BLUR:7.8,tipOffsetX:0,tipOffsetY:0,iconOffsetX:0,iconOffsetY:0,slideY:70},t),r=n.tipIcon,o=n.littleTip;r.y=-206+i.iconOffsetY,r.x=289+i.iconOffsetX,o.x=257+i.tipOffsetX,o.y=-100+i.tipOffsetY,r.startPos={x:r.x,y:r.y},o.startPos={x:o.x,y:o.y},o.alpha=0,NBDrag.addDrag(n);var s=TweenMax.to(r.scale,.5,{x:1.2,y:1.2,repeat:-1,yoyo:!0});n.addEventListener(NBDrag.event.START_DRAG,l),n.addEventListener(NBDrag.event.DRAG_MOVE,T);var d=!1;function l(e){n.tapPoint&&e&&n.removeChild(n.tapPoint),TweenMax.killTweensOf(o),o.alpha&&TweenMax.to(o,.5,{y:o.startPos.y,ease:Power2.easeOut,alpha:0,onComplete:function(){}}),TweenMax.to(o,.5,{onComplete:function(){d=!1}})}r.addEventListener(TouchEvent.TAP,function(){d||(d=!0,s.pause(),o.alpha||(TweenMax.killTweensOf(o),TweenMax.to(o,.5,{y:o.startPos.y-i.slideY,ease:Power2.easeOut,alpha:1,onStart:function(){o.y=o.startPos.y,d=!1}})))}),$("canvas").click(function(){d||(d=!0,l())});var h=new PIXI.Graphics;a.addChild(h),a.graphics=h,h.beginFill(0,255,1),h.drawCircle(0,0,a.bottom.width/2);for(var c=[],v=[],f=[],u=0;u<int.MAX_VALUE&&a[i.bigPng+u];u++){var g,m=a[i.bigPng+u],p=a[i.littlePng+u];v.push(m),f.push(p),m.mask=h,m.alpha=1,g=m.width/p.width,c.push(g)}function T(){h.x=n.x,h.y=n.y,a.bottom.position=h.position,f.forEach(function(e,t){var r=a[i.bigPng+t];r.x=-(c[t]-1)*(n.x-e.x)+e.x,r.y=-(c[t]-1)*(n.y-e.y)+e.y})}var x=new PIXI.filters.BlurFilter;function E(e){x.blur=5.46*e-4.4784,x.blur<=0&&(x.blur=0)}function D(e){var t=a.toLocal({x:e.data.global.x,y:e.data.global.y});if(n.glassCenterPoint&&n.removeChild(n.glassCenterPoint),n.arrow.alpha=0,n.slide=!0,instance.NBDownTip.hideTip(),t.x<A){var i=A-t.x;C=O+i/1e3,w=y+i/1e3/2,(M=_+i/1e3)>instance.const.MAX_SCALE&&(M=instance.const.MAX_SCALE),w>instance.const.MAX_SCALE-.5&&(w=instance.const.MAX_SCALE-.5),C>instance.const.MAX_SCALE&&(C=instance.const.MAX_SCALE),E(M),TweenMax.to(n.scale,.5,{x:M,y:C}),TweenMax.to(h.scale,.5,{x:M,y:C}),TweenMax.to(a.bottom.scale,.5,{x:M,y:C}),v.forEach(function(e){TweenMax.to(e.scale,.5,{x:w,y:w}),e.filters=[x]})}if(t.x>A){var r=t.x-A;C=O-r/1e3,w=y-r/1e3/2,(M=_-r/1e3)<instance.const.MIN_SCALE&&(M=instance.const.MIN_SCALE),w<instance.const.MIN_SCALE&&(w=instance.const.MIN_SCALE),C<instance.const.MIN_SCALE&&(C=instance.const.MIN_SCALE),E(M),TweenMax.to(n.scale,.5,{x:M,y:C}),TweenMax.to(h.scale,.5,{x:M,y:C}),TweenMax.to(a.bottom.scale,.5,{x:M,y:C}),v.forEach(function(e){TweenMax.to(e.scale,.5,{x:w,y:w})})}}if(E(1),h){var A,w,M=0,C=0,_=1,O=1,y=1;h.addEventListener(TouchEvent.TOUCH_BEGIN,function(){h.addEventListener(TouchEvent.TOUCH_MOVE,D)}),h.addEventListener(TouchEvent.TOUCH_END,function(){0!=M&&(_=M,O=C,y=w),a.addChild(h),h.removeListener(TouchEvent.TOUCH_MOVE,D)}),h.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,function(){0!=M&&(_=M,O=C,y=w),a.addChild(h),h.removeListener(TouchEvent.TOUCH_MOVE,D)}),h.addEventListener(TouchEvent.TOUCH_BEGIN,function(e){var t=a.toLocal({x:e.data.global.x,y:e.data.global.y});A=t.x,h.addEventListener(TouchEvent.TOUCH_MOVE,D)})}n.addEventListener("canSlide",function(){h.interactive=!0}),n.addEventListener("noSlide",function(){h.interactive=!1}),h.interactive=!1,T(),n.event={grpInteractive:"canSlide",grpNoInteractive:"noSlide"}}},539:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=this,a=t.parent,r=Object.assign({},e),o=(Power0.easeNone,1),s=(0,n.default)(0,0,!1,{addArrow:!0,direction:"top"});function d(){t.isDragging||(t.head.addEventListener(TouchEvent.TOUCH_MOVE,h),t.removeChild(s),instance.NBDownTip.hideTip(),instance.NBDownTipsError.hideTip(),t.head.addEventListener(TouchEvent.TOUCH_END,l),t.head.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,l))}function l(){if(t.head.removeEventListener(TouchEvent.TOUCH_MOVE,h),!(t.rotation<0||t.rotation>Math.PI)){var e=Math.abs(t.rotation/3.14*o);t.startR=t.rotation,t.power=t.startR/3.14,t.rotation+=2*Math.PI,TweenMax.to(t,e,{rotation:0+2*Math.PI,ease:Power2.easeIn,onComplete:function(){!function e(){if(t.startR<Math.PI/10)return console.log("角度太小不衰减"),void TweenMax.to(t,.1,{rotation:0+2*Math.PI,onComplete:function(){t.rotation=0}});TweenMax.to(t,.1,{rotation:0+2*Math.PI+.15*t.startR,onComplete:function(){t.startR=.15*t.startR,e()},onUpdate:function(){t.currentHit&&t.head.hitTest(t.currentHit)&&(t.currentHit.isHit=!0,t.emit(t.event.HIT,{targer:t.currentHit}))}})}(),t.emit(t.event.HIT_STOP,{power:t.power,index:t.reachIndex})}}),t.emit(t.event.SLIDE_STOP,{power:t.power})}}function h(e){var a=e.data.global,n=t.toGlobal(new PIXI.Point),i=(-Math.atan2(a.x-n.x,a.y-n.y)+1.5*Math.PI)%(2*Math.PI);i>=0&&i<=Math.PI&&(t.rotation=i)}s.emit(s.event.HIDEARR),i.default.apply(t,[t,{backDefaultPos:!r.notBack}]),t.hit&&(r.ifHItArea&&(t.hitArea=new PIXI.Polygon(t.hit.children[0].currentPath.shape.points)),t.hit.alpha=0),t.addChild(s),t.addEventListener(i.default.event.START_DRAG,function(e){a.addChild(t),t.goHit=!1,instance.NBDownTip.hideTip(),instance.NBDownTipsError.hideTip(),t.head.interactive=!1,t.removeChild(s),t.head.removeAllListeners()}),t.addEventListener(i.default.event.REACH_TARGET,function(e){var a=e.substr(-1);t.head.interactive=!0,t.emit(t.event.HAMMER_REACH,{index:a}),t.reachIndex=a,t.head.addEventListener(TouchEvent.TOUCH_BEGIN,d)}),t.addEventListener(i.default.event.BACK_DEFAULT_POS,function(){t.emit(t.event.HAMMER_BACK),t.head.interactive=!1}),t.event={HIT:"hitObj",BAR_STOP:"barDragStop",SLIDE_STOP:"headDragStop",HIT_STOP:"headHitStop",HAMMER_REACH:"hammerReach",HAMMER_BACK:"hammerBacK",HIDEARR:"hideArrow",SHOWARR:"showArrow"},t.adsorb=function(n){t.goHit=!0,TweenMax.killTweensOf(t),TweenMax.killTweensOf(bar),TweenMax.to([t,bar],.5,{x:n.pos.x,y:n.pos.y,onComplete:function(){a.addChildAt(t,0),bar.interactive=!0,n.showPoint&&(e.tapPoint?(s.x=e.tapPoint.x,s.y=e.tapPoint.y):(s.x=-180,s.y=10),t.tap=s,t.addChild(s),s.emit(s.event.SHOWARR))},onStart:function(){bar.interactive=!1}})},t.addEventListener(t.event.HIDEARR,function(){s.emit(s.event.HIDEARR)}),t.addEventListener(t.event.SHOWARR,function(e){s&&(t.addChild(s),s.position=e),s.emit(s.event.SHOWARR)})};var n=r(a(169)),i=r(a(526));function r(e){return e&&e.__esModule?e:{default:e}}}});