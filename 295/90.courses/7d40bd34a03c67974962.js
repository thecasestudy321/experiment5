webpackJsonp([90,267],{169:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,i){for(var n=new PIXI.Container,r=new PIXI.filters.ColorMatrixFilter,o=a||!1,l=i||{addArrow:!1,type:"horizontal",scale:1},s=new PIXI.Container,d=0;d<3;++d){var h=d+1,c=PIXI.Sprite.fromFrame("TAP_1"+h);c.x=-c.width/2,c.y=-c.height/2;var u=new PIXI.Container;u.addChild(c),s.addChild(u)}var v=0;if(l.direction)switch(l.direction){case"top":v=-Math.PI/2;break;case"bottom":v=Math.PI/2;break;case"left":v=Math.PI;break;case"right":v=0;break;default:v=0}s.filters=[r];for(var f=0;f<s.children.length;f++){var p=s.children[f];p.scale.x=p.scale.y=2,f<2&&w(p,.75*f)}if(n.addChild(s),l.addArrow){var x,g;if(l.direction){x=PIXI.Sprite.fromFrame("oneArrow"),g=new PIXI.extras.MovieClip([x]);var m=l.scale?l.scale:1;g.scale.x=g.scale.y=m,g.pivot={x:0,y:g.height/2},g.rotation=v}else{x=PIXI.Sprite.fromFrame("NBarrow"),(g=new PIXI.extras.MovieClip([x])).pivot={x:g.width/2,y:g.height/2};var y=l.scale?l.scale:1;g.scale.x=g.scale.y=y,"horizontal"!==(l.type?l.type:"horizontal")&&(g.rotation=Math.PI/2)}n.addChild(g),n.arrow=g,n.addEventListener("hideArrow",function(){g.alpha=0,g.visible=!1}),n.addEventListener("showArrow",function(){g.alpha=1,g.visible=!0})}s.alpha=.4;var C=new PIXI.Graphics;function w(e,t){TweenMax.to(e,1.5,{delay:t,alpha:0,repeat:-1}),TweenMax.to(e.scale,1.5,{x:5,y:5,delay:t,repeat:-1})}return C.beginFill(16776960,0),C.drawRect(-50,-50,100,100),n.addChild(C),n.addEventListener(MouseEvent.MOUSE_OVER,function(){s.alpha=.6}),n.addEventListener(MouseEvent.MOUSE_OUT,function(){s.alpha=.4}),n.addEventListener(TouchEvent.TOUCH_BEGIN,function(){n.emit(n.event.TAP),!o&&n.parent&&n.parent.removeChild(n)}),n.x=e,n.y=t,n.setColor=function(e){var t=e>>16,a=e>>8&255,i=255&e;r._loadMatrix([t,0,0,0,0,0,a,0,0,0,0,0,i,0,0,0,0,0,255,0],!1),s.filters=[r]},n.setRotation=function(e){n.rotation=e},n.showAllDir=function(){if(l.direction)for(var e=0;e<3;e++){var t=new PIXI.Container;t.addChild(PIXI.Sprite.fromFrame("oneArrow")),n.addChild(t),t.pivot={x:0,y:g.height/2},t.rotation=Math.PI/2*(e+1)}else{var a=new PIXI.Container;a.addChild(PIXI.Sprite.fromFrame("NBarrow")),n.addChild(a),a.pivot={x:g.width/2,y:g.height/2},a.rotation=n.rotation+Math.PI/2}},n.event={TAP:"pointTap",HIDEARR:"hideArrow",SHOWARR:"showArrow"},instance.info&&instance.info.newLayOut&&n.scale.set(.6,.6),n}},239:function(e,t,a){"use strict";nb.substance0147=extendsClass(ScienceMain,{frame0:function(){instance.viewStack.NBONOFF.visible=!1;var e=this.timeline,t=this.step0,a=this.step1,i=!1;a.alpha=0,e.setAutoPlay(!0,1),e.on("change",function(n){!i&&n.time>=1&&(i=!0,TweenMax.to([e,t],.5,{alpha:0,delay:1,onComplete:function(){TweenMax.to(a,.5,{alpha:1})}}));for(var r=1;r<4;r++)t["container"+r].s.alpha=n.time})},start:function(){this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"铁在什么情况下容易生锈？我们怎么防止、减缓铁生锈呢？",labName:"控制铁生锈的速度",CONCLUSION:"铁钉生锈是水和空气共同作用的结果。",newLayOut:!0,bgColor:"#F3E6CF"},const:{},event:{}}),nb.timelineSprite=function(){var e,t,a=this;if(a.bgMask){var i=a.bgMask.getChildAt(0);a.progressBar.mask=i,i.scale.x=0}for(var n,r=this.a0.x===this.a1.x?"vertical":"horizontal",o=0,l=0;l<int.MAX_VALUE;l++){var s=this["a"+l];if(void 0===s){t="vertical"===r?this["a"+(l-1)].y:this["a"+(l-1)].x,o=l;break}0===l&&(e="vertical"===r?s.y:s.x),s.addEventListener(TouchEvent.TAP,function(){"vertical"===r?TweenMax.to(a.drag,.5,{y:this.y,onUpdate:h,onComplete:c}):TweenMax.to(a.drag,.5,{x:this.x,onUpdate:h,onComplete:c}),a.emit("nodeTap",{index:this.name.substr(1,1)})})}this.setDrag=function(e){e&&NBDrag.addDrag(a.drag,n)},this.updateBound=function(){"vertical"==r?(n={x:this.drag.x,y:this.drag.y,width:0,height:t},n={x:this.drag.x,y:this.drag.y,width:0,height:t}):n={x:this.drag.x,y:this.drag.y,width:t,height:0}},this.updateBound(),a.drag.addEventListener(NBDrag.event.STOP_DRAG,function(){if(!1!==a._align_){var i=o-1;if("vertical"===r){var n=Math.round((this.y-e)/(t-e)*i);n<0&&(n=0),TweenMax.to(this,.5,{y:n*(t-e)/i,onUpdate:h,onComplete:c})}else{var l=Math.round((this.x-e)/(t-e)*i);l<0&&(l=0)}}}),a.drag.addEventListener(NBDrag.event.DRAG_MOVE,function(){h()}),a.drag.constY=a.drag.y;var d,h=function(){if("vertical"===r){var i=(a.drag.y-e)/(t-e);a.emit("change",{time:i})}else{a.drag.y=a.drag.constY,a.drag.x>=t&&(a.drag.x=t),a.drag.x<=e&&(a.drag.x=e);var n=(a.drag.x-e)/(t-e);a.emit("change",{time:n}),a.drag.line0&&(a.drag.line0.rotation=1800*n*Math.PI/180,a.drag.line1.rotation=360*n*Math.PI/180),a.bgMask&&(a.bgMask.getChildAt(0).scale.x=n)}},c=function(){a.setMomentsPause(!0,2e3,2);var i=o-1;if("vertical"===r){var n=(a.drag.y-e)/(t-e),l=Math.round(n*i);a.emit("change",{index:l,time:n})}else{var s=(a.drag.x-e)/(t-e),d=Math.round(s*i);a.emit("change",{index:d,time:s})}};this.getNodeCount=function(){return o},this.setNodePos=function(e){var t=this["a"+e];"vertical"===r?a.drag.y=t.y:a.drag.x=t.x},nb.MovieClip.ticker.add(function(){if(a._auto_&&!a.drag.isDragging){var i=t-e;"vertical"===r?(a.drag.y+=a._speed_,a.drag.y>i&&(a.drag.y=i)):(a.drag.x+=a._speed_,a.drag.x>i+a.a0.x&&(a.drag.x=i+a.a0.x)),h()}}),this.setAutoPlay=function(e,t){this._auto_=e,this._speed_=t||.1},this.setAutoAlign=function(e){this._align_=e},this.setMomentsPause=function(e,t,i){clearTimeout(d),e&&!a.NOTafterStopPlay?(a.setAutoPlay(!1),clearTimeout(d),a.setAutoPlay(!1),d=setTimeout(function(){a.setAutoPlay(!0,i)},t)):a.setAutoPlay(!1)},this.resetTimeline=function(){this.drag.x=this.bgMask.x}},e.exports=nb.substance0147},355:function(e,t,a){"use strict";var i=function(e){return e&&e.__esModule?e:{default:e}}(a(169));a(239),nb.substance0146=extendsClass(ScienceMain,{frame0:function(){instance.viewStack.NBONOFF.visible=!1;var e=this,t=!1,a=void 0,n=(0,i.default)(0,0),r=void 0;function o(){e.nail.test.visible=!1,e.nail.removeChild(n),e.xy1.alpha=e.xy2.alpha=.3}e.nail.initP={x:e.nail.x,y:e.nail.y},e.nail.addChild(n),NBDrag.addDrag(e.nail),e.nail.ref.alpha=0,e.tip.text="拖动钉子放入任一溶液中，观察现象",e.xy1.alpha=e.xy2.alpha=0,e.nail.addEventListener(NBDrag.event.STOP_DRAG,function t(){e.xy1.alpha=e.xy2.alpha=0;e.nail.interactive=!1;e.nail.ref.hitTest(e.ref)?(e.nail.removeEventListener(NBDrag.event.START_DRAG,o),a=!0,TweenMax.to(e.nail,.5,{x:e.xy1.x,y:e.xy1.y,onComplete:function(){TweenMax.to(e.nail,1.5,{x:e.xy1.x,y:e.xy1.y+$s(280),onComplete:function(){e.timeline.setAutoPlay(!0,1),e.timeline.setAutoAlign(!1),i()}})}}),e.nail.removeEventListener(NBDrag.event.STOP_DRAG,t)):e.nail.ref.hitTest(e.ref1)?(a=!1,e.nail.removeEventListener(NBDrag.event.START_DRAG,o),TweenMax.to(e.nail,.5,{x:e.xy2.x,y:e.xy2.y,onComplete:function(){TweenMax.to(e.nail,1.5,{x:e.xy2.x,y:e.xy2.y+$s(280),onComplete:function(){i()}})}}),e.nail.removeEventListener(NBDrag.event.STOP_DRAG,t)):TweenMax.to(e.nail,.5,{x:e.nail.initP.x,y:e.nail.initP.y,onComplete:function(){e.nail.addChild(n),e.nail.interactive=!0}});function i(){e.timeline.visible=!0,TweenMax.to(e.timeline,.5,{alpha:1,onComplete:function(){e.timeline.setAutoPlay(!0,1),e.timeline.setAutoAlign(!1)}})}}),e.nail.addEventListener(NBDrag.event.START_DRAG,o),e.timeline.visible=!1,e.timeline.alpha=0,e.timeline.addEventListener("change",function(n){!t&&n.time>=1&&(e.timeline.setAutoPlay(!1),t=!0,e.nail.interactive=!0,r=(0,i.default)(0,-200),nb.GlobalEffect.fadeOut(instance.viewStack.frame0.timeline),e.nail.hitTest(e.cup0)?(e.cup0.addChild(r),nb.scienceCommonFun.resetName(e.tip,"拖出铁钉，观察两边硫酸铜及铁钉的颜色")):e.nail.hitTest(e.cup1)&&(e.cup1.addChild(r),nb.scienceCommonFun.resetName(e.tip,"拖出铁钉，观察两边硫酸铜及铁钉的颜色")),e.nail.removeEventListener(NBDrag.event.START_DRAG,o),e.nail.addEventListener(NBDrag.event.START_DRAG,function(){r&&r.parent&&r.parent.removeChild(r),1==a?e.cup0.removeChild(r):0==a&&e.cup1.removeChild(r)}));var l=.6*(1-n.time)+.4;1==a&&(e.cup0.blue1.alpha=l,e.nail.ref.alpha=n.time),0==a&&(e.cup1.blue1.alpha=l,e.nail.ref.alpha=n.time)})},start:function(){this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"化学变化在产生新物质时常常会伴随着一些现象，我们一起来看一下到底会伴随哪些现象呢？",labName:"硫酸铜溶液与铁钉",CONCLUSION:"铁生锈是一种化学变化，铁锈是一种不同于铁的一种新物质。",newLayOut:!0,bgColor:"#F3E6CF"},const:{},event:{}}),e.exports=nb.substance0146}});