webpackJsonp([37,267],{169:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,n){for(var i=new PIXI.Container,r=new PIXI.filters.ColorMatrixFilter,o=a||!1,s=n||{addArrow:!1,type:"horizontal",scale:1},d=new PIXI.Container,l=0;l<3;++l){var h=l+1,c=PIXI.Sprite.fromFrame("TAP_1"+h);c.x=-c.width/2,c.y=-c.height/2;var u=new PIXI.Container;u.addChild(c),d.addChild(u)}var v=0;if(s.direction)switch(s.direction){case"top":v=-Math.PI/2;break;case"bottom":v=Math.PI/2;break;case"left":v=Math.PI;break;case"right":v=0;break;default:v=0}d.filters=[r];for(var f=0;f<d.children.length;f++){var x=d.children[f];x.scale.x=x.scale.y=2,f<2&&y(x,.75*f)}if(i.addChild(d),s.addArrow){var g,p;if(s.direction){g=PIXI.Sprite.fromFrame("oneArrow"),p=new PIXI.extras.MovieClip([g]);var m=s.scale?s.scale:1;p.scale.x=p.scale.y=m,p.pivot={x:0,y:p.height/2},p.rotation=v}else{g=PIXI.Sprite.fromFrame("NBarrow"),(p=new PIXI.extras.MovieClip([g])).pivot={x:p.width/2,y:p.height/2};var w=s.scale?s.scale:1;p.scale.x=p.scale.y=w,"horizontal"!==(s.type?s.type:"horizontal")&&(p.rotation=Math.PI/2)}i.addChild(p),i.arrow=p,i.addEventListener("hideArrow",function(){p.alpha=0,p.visible=!1}),i.addEventListener("showArrow",function(){p.alpha=1,p.visible=!0})}d.alpha=.4;var M=new PIXI.Graphics;function y(e,t){TweenMax.to(e,1.5,{delay:t,alpha:0,repeat:-1}),TweenMax.to(e.scale,1.5,{x:5,y:5,delay:t,repeat:-1})}return M.beginFill(16776960,0),M.drawRect(-50,-50,100,100),i.addChild(M),i.addEventListener(MouseEvent.MOUSE_OVER,function(){d.alpha=.6}),i.addEventListener(MouseEvent.MOUSE_OUT,function(){d.alpha=.4}),i.addEventListener(TouchEvent.TOUCH_BEGIN,function(){i.emit(i.event.TAP),!o&&i.parent&&i.parent.removeChild(i)}),i.x=e,i.y=t,i.setColor=function(e){var t=e>>16,a=e>>8&255,n=255&e;r._loadMatrix([t,0,0,0,0,0,a,0,0,0,0,0,n,0,0,0,0,0,255,0],!1),d.filters=[r]},i.setRotation=function(e){i.rotation=e},i.showAllDir=function(){if(s.direction)for(var e=0;e<3;e++){var t=new PIXI.Container;t.addChild(PIXI.Sprite.fromFrame("oneArrow")),i.addChild(t),t.pivot={x:0,y:p.height/2},t.rotation=Math.PI/2*(e+1)}else{var a=new PIXI.Container;a.addChild(PIXI.Sprite.fromFrame("NBarrow")),i.addChild(a),a.pivot={x:p.width/2,y:p.height/2},a.rotation=i.rotation+Math.PI/2}},i.event={TAP:"pointTap",HIDEARR:"hideArrow",SHOWARR:"showArrow"},instance.info&&instance.info.newLayOut&&i.scale.set(.6,.6),i}},239:function(e,t,a){"use strict";nb.substance0147=extendsClass(ScienceMain,{frame0:function(){instance.viewStack.NBONOFF.visible=!1;var e=this.timeline,t=this.step0,a=this.step1,n=!1;a.alpha=0,e.setAutoPlay(!0,1),e.on("change",function(i){!n&&i.time>=1&&(n=!0,TweenMax.to([e,t],.5,{alpha:0,delay:1,onComplete:function(){TweenMax.to(a,.5,{alpha:1})}}));for(var r=1;r<4;r++)t["container"+r].s.alpha=i.time})},start:function(){this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"铁在什么情况下容易生锈？我们怎么防止、减缓铁生锈呢？",labName:"控制铁生锈的速度",CONCLUSION:"铁钉生锈是水和空气共同作用的结果。",newLayOut:!0,bgColor:"#F3E6CF"},const:{},event:{}}),nb.timelineSprite=function(){var e,t,a=this;if(a.bgMask){var n=a.bgMask.getChildAt(0);a.progressBar.mask=n,n.scale.x=0}for(var i,r=this.a0.x===this.a1.x?"vertical":"horizontal",o=0,s=0;s<int.MAX_VALUE;s++){var d=this["a"+s];if(void 0===d){t="vertical"===r?this["a"+(s-1)].y:this["a"+(s-1)].x,o=s;break}0===s&&(e="vertical"===r?d.y:d.x),d.addEventListener(TouchEvent.TAP,function(){"vertical"===r?TweenMax.to(a.drag,.5,{y:this.y,onUpdate:h,onComplete:c}):TweenMax.to(a.drag,.5,{x:this.x,onUpdate:h,onComplete:c}),a.emit("nodeTap",{index:this.name.substr(1,1)})})}this.setDrag=function(e){e&&NBDrag.addDrag(a.drag,i)},this.updateBound=function(){"vertical"==r?(i={x:this.drag.x,y:this.drag.y,width:0,height:t},i={x:this.drag.x,y:this.drag.y,width:0,height:t}):i={x:this.drag.x,y:this.drag.y,width:t,height:0}},this.updateBound(),a.drag.addEventListener(NBDrag.event.STOP_DRAG,function(){if(!1!==a._align_){var n=o-1;if("vertical"===r){var i=Math.round((this.y-e)/(t-e)*n);i<0&&(i=0),TweenMax.to(this,.5,{y:i*(t-e)/n,onUpdate:h,onComplete:c})}else{var s=Math.round((this.x-e)/(t-e)*n);s<0&&(s=0)}}}),a.drag.addEventListener(NBDrag.event.DRAG_MOVE,function(){h()}),a.drag.constY=a.drag.y;var l,h=function(){if("vertical"===r){var n=(a.drag.y-e)/(t-e);a.emit("change",{time:n})}else{a.drag.y=a.drag.constY,a.drag.x>=t&&(a.drag.x=t),a.drag.x<=e&&(a.drag.x=e);var i=(a.drag.x-e)/(t-e);a.emit("change",{time:i}),a.drag.line0&&(a.drag.line0.rotation=1800*i*Math.PI/180,a.drag.line1.rotation=360*i*Math.PI/180),a.bgMask&&(a.bgMask.getChildAt(0).scale.x=i)}},c=function(){a.setMomentsPause(!0,2e3,2);var n=o-1;if("vertical"===r){var i=(a.drag.y-e)/(t-e),s=Math.round(i*n);a.emit("change",{index:s,time:i})}else{var d=(a.drag.x-e)/(t-e),l=Math.round(d*n);a.emit("change",{index:l,time:d})}};this.getNodeCount=function(){return o},this.setNodePos=function(e){var t=this["a"+e];"vertical"===r?a.drag.y=t.y:a.drag.x=t.x},nb.MovieClip.ticker.add(function(){if(a._auto_&&!a.drag.isDragging){var n=t-e;"vertical"===r?(a.drag.y+=a._speed_,a.drag.y>n&&(a.drag.y=n)):(a.drag.x+=a._speed_,a.drag.x>n+a.a0.x&&(a.drag.x=n+a.a0.x)),h()}}),this.setAutoPlay=function(e,t){this._auto_=e,this._speed_=t||.1},this.setAutoAlign=function(e){this._align_=e},this.setMomentsPause=function(e,t,n){clearTimeout(l),e&&!a.NOTafterStopPlay?(a.setAutoPlay(!1),clearTimeout(l),a.setAutoPlay(!1),l=setTimeout(function(){a.setAutoPlay(!0,n)},t)):a.setAutoPlay(!1)},this.resetTimeline=function(){this.drag.x=this.bgMask.x}},e.exports=nb.substance0147},433:function(e,t,a){"use strict";var n=r(a(169)),i=r(a(521));function r(e){return e&&e.__esModule?e:{default:e}}a(239),nb.substance0610=extendsClass(ScienceMain,{frame0:function(){var e=this;i.default.apply(e),instance.viewStack.NBONOFF.visible=!1,function(){var t=e.step0,a=t.timeline,n=t.water;a.a0.interactive=a.a1.interactive=!1;var i=n.waterDirty,r=n.waterMask;i.mask=r.children[0];var o=i.y,s=i.height-300;a.setAutoPlay(!0,2),a.on("change",function(e){e.time<1?i.y=o+e.time*(s-o):e.time>=1&&TweenMax.to(a,.3,{alpha:0})})}(),instance.pageTwo.apply(e.step1)},pageTwo:function(){var e=this,t=(0,n.default)(80,0),a=e.paper,i=e.btn,r=e.paper1,o=e.filter,s=e.bottle,d=e.beaker,l=e.s0,h=e.s1,c=e.s0Txt,u=e.s1Txt,v=e.s1Shadow,f=e.s0Shadow,x=e.glass,g=Sine.easeInOut;function p(){i.removeAllListeners(),GlobalEffect.fadeOut(i),TweenMax.to(a,1,{currentFrame:a.totalFrames-1,ease:g,onComplete:function(){TweenMax.to(a,.8,{rotation:-Math.PI/4,ease:g,onComplete:m})}})}function m(){TweenMax.to(a,.8,{x:r.x+2,y:r.y+5,ease:g,onComplete:function(){a.alpha=0,r.alpha=1,TweenMax.to(r.jiandao,1.3,{x:"-= 400",ease:g,onUpdate:function(){r.jiandao.play()},onComplete:w}),TweenMax.to(r.bottom,.8,{y:"+=100",ease:g,delay:.4,alpha:0})}})}function w(){r.jiandao.stop(),TweenMax.to([r.bottom,r.jiandao,r.line],.5,{alpha:0,onComplete:function(){r.bottom.visible=r.jiandao.visible=r.line.visible=!1,TweenMax.to([o,s,v,f],1,{x:"+=480",ease:g,onStart:function(){TweenMax.to([o,s],1,{alpha:1})}}),TweenMax.to([l,c,h,u],1,{x:"-=540",alpha:1,ease:g,onComplete:function(){TweenMax.to(r,.8,{x:o.x-2,y:o.y-8.5,ease:g,onComplete:function(){l.interactive=h.interactive=!0}}),e.showTip()}})}})}function M(){C(e[this.name+"Txt"]),A(e[this.name+"Shadow"],.3),this.gotoAndStop(1),this.removeChild(t)}function y(){var t=e[this.name+"Shadow"];if(this.interactive=!1,A(t,0),this.hitTest(t)){if("s1"==this.name&&!e.s0.isReach)return void _(this);this.removeAllListeners(),this.isReach=!0,function(t,a){TweenMax.to(t,.5,{x:a.x,y:a.y,ease:g,rotation:a.rotation,onComplete:function(){TweenMax.to(r,.5,{alpha:.3}),TweenMax.to(t,.8,{rotation:-Math.PI/2.7,alpha:0,onStart:function(){h.interactive=!1},onComplete:function(){h.interactive=!0}}),TweenMax.to(t.med,.5,{x:"-=50",ease:g}),TweenMax.to(o.shaMask,1,{y:"-=64",ease:g,onComplete:function(){e.showTip(),e.s0.isReach&&e.s1.isReach&&(TweenMax.to(e.tip,.3,{alpha:0}),TweenMax.to([s,o,r],1,{x:"640",y:"+=40",ease:g,onComplete:T}))}})}})}(this,t)}else _(this)}function T(){TweenMax.to([x,d],.8,{alpha:1,onComplete:function(){TweenMax.to(d,5,{rotation:-Math.PI/6,ease:g,onStart:function(){TweenMax.to(d.waterMask,7,{y:"+= 300",onComplete:function(){TweenMax.to(o.water,3,{alpha:.4})}}),o.waterAni.alpha=1,TweenMax.to(o.waterMask,5,{y:"+= 100"}),TweenMax.to(o.waterAni,.6,{currentFrame:10,delay:.4}),TweenMax.to(o.waterAni,7,{delay:.4,y:"-=60",onComplete:function(){TweenMax.to(o.waterAni,1,{currentFrame:o.waterAni.totalFrames-1,y:"-=30"})}}),s.setCapacityTween("30%",8)},onComplete:function(){GlobalEffect.fadeOut(x),GlobalEffect.fadeOut(d),TweenMax.to([s,o,r],1,{y:"-=60",ease:g})}})}})}function C(e,t){e.alpha=t}function A(e,t){TweenMax.killTweensOf(e),TweenMax.to(e,.2,{alpha:t})}function _(e){var t=e.parent;TweenMax.to(e,.5,{x:e.startPos.x,y:e.startPos.y,rotation:0,ease:g,onComplete:function(){e.interactive=!0,t.showTip(),C(t[e.name+"Txt"],1),"s0"===e.name||e.name}})}!function(){o.sha.mask=o.shaMask.children[0],o.water.mask=o.waterMask.children[0],d.water.mask=d.waterMask.children[0],i.addEventListener(TouchEvent.TAP,p),r.alpha=0;for(var t=0;t<2;t++){var a=e["s"+t];a.startPos={x:a.x-540,y:a.y},NBDrag.addDrag(a),a.addEventListener(NBDrag.event.START_DRAG,M),a.addEventListener(NBDrag.event.STOP_DRAG,y),e["s"+t+"Shadow"].alpha=0,a.alpha=0,a.interactive=!1}x.x=540,x.y=184,d.x=536,d.y=147,x.alpha=d.alpha=0,s.alpha=0,o.alpha=0,o.waterAni.alpha=0,o.waterAni.mask=o.aniMask.children[0]}(),e.showTip=function(){l.isReach?h.isReach||(h.addChild(t),"将木炭粉倒入漏斗中"!==e.tip.text&&nb.scienceCommonFun.resetName(e.tip,"将木炭粉倒入漏斗中")):(l.addChild(t),console.log(e.tip.text),"将湿沙倒入漏斗中"!==e.tip.text&&nb.scienceCommonFun.resetName(e.tip,"将湿沙倒入漏斗中"))}},start:function(){this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"我们能用什么方法把污水中的杂质分离出来？",labName:"净化水",CONCLUSION:"我们可以用沉淀，过滤等方法把污水中的杂质分离出来。",newLayOut:!0,bgColor:"#F3E6CF"},const:{},event:{}}),e.exports=nb.substance0610},520:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={event:{CLICK_NODE:"nodeTap",CLICK_NODE_REACHED:"nodeTapReached",ON_COMPLETE:"timelineComplete",ON_PLAY:"timelinePlaying",REACHED_NODE:"reachedNode",START_DRAG:"startDrag",DRAGING:"draging",STOP_DRAG:"stopDrag"},init:function(){var e,t,a=this;if(a.bgMask){var i=a.bgMask.getChildAt(0);a.progressBar.mask=i,i.scale.x=0}var r=this.a0.x===this.a1.x?"vertical":"horizontal",o=0,s=[];a.drag.lastPos={x:a.drag.x,y:a.drag.y};for(var d=0;d<int.MAX_VALUE;d++){var l=this["a"+d];if(void 0===l){t="vertical"===r?this["a"+(d-1)].y:this["a"+(d-1)].x,o=d;break}s.push(l),0===d&&(e="vertical"===r?l.y:l.x),l.addEventListener(TouchEvent.TAP,function(){var e=this;"vertical"===r?TweenMax.to(a.drag,.5,{y:this.y}):TweenMax.to(a.drag,.5,{x:this.x,onComplete:function(){a.emit(n.event.CLICK_NODE_REACHED,{index:e.name.substr(1,1)})}}),this.totalFrames&&(s.forEach(function(e){return e.currentFrame=0}),this.currentFrame=1),a.drag.lastPos={x:this.x,y:this.y},a.emit(n.event.CLICK_NODE,{index:this.name.substr(1,1)})})}this.setDrag=function(i){i?(NBDrag.addDrag(a.drag),a.drag.on(NBDrag.event.START_DRAG,function(){var i=(a.drag.x-e)/(t-e);a.emit(n.event.START_DRAG,{time:i})}),a.drag.on(NBDrag.event.DRAG_MOVE,function(){var i=(a.drag.x-e)/(t-e);a.emit(n.event.DRAGING,{time:i})}),a.drag.on(NBDrag.event.STOP_DRAG,function(){var i=(a.drag.x-e)/(t-e);a.emit(n.event.STOP_DRAG,{time:i}),i>=1&&a.emit(n.event.ON_COMPLETE,{time:i})})):NBDrag.removeDrag(a.drag)},a.drag.addEventListener(NBDrag.event.STOP_DRAG,function(){if(!1!==a._align_){var n=o-1;if("vertical"===r){var i=Math.round((this.y-e)/(t-e)*n);i<0&&(i=0)}else{var s=Math.round((this.x-e)/(t-e)*n);s<0&&(s=0)}}}),a.drag.addEventListener(NBDrag.event.DRAG_MOVE,function(){u()});var h=!1;a.drag.constY=a.drag.y;var c,u=function(){a.drag.y=a.drag.constY,a.drag.x>=t&&(a.drag.x=t),a.drag.x<=e&&(a.drag.x=e);var i=(a.drag.x-e)/(t-e);if(i<1){h=!1,a.emit(n.event.ON_PLAY,{time:i});for(var r=0;r<s.length;r++)a.drag.lastPos.x<=s[r].x&&a.drag.x>s[r].x&&a.emit(n.event.REACHED_NODE,{index:r})}else h||(h=!0,a.emit(n.event.ON_COMPLETE,{time:i}));(a.drag.line0&&(a.drag.line0.rotation=1800*i*Math.PI/180,a.drag.line1.rotation=360*i*Math.PI/180),a.bgMask)&&(a.bgMask.getChildAt(0).scale.x=i);a.drag.lastPos={x:a.drag.x,y:a.drag.y}};this.getNodeCount=function(){return o},this.setNodePos=function(e){var t=this["a"+e];"vertical"===r?a.drag.y=t.y:a.drag.x=t.x},nb.MovieClip.ticker.add(function(){a._auto_&&!a.drag.isDragging&&("vertical"===r?a.drag.y+=a._speed_:a.drag.x+=a._speed_,u())}),this.setAutoPlay=function(e,t){this._auto_=e,this._speed_=t||.1},this.setAutoAlign=function(e){this._align_=e},this.setMomentsPause=function(e,t,n){clearTimeout(c),e&&!a.NOTafterStopPlay?(a.setAutoPlay(!1),clearTimeout(c),a.setAutoPlay(!1),c=setTimeout(function(){a.setAutoPlay(!0,n)},t)):a.setAutoPlay(!1)},this.resetTimeline=function(){(this.drag.x=this.bgMask.x,a.bgMask)&&(a.bgMask.getChildAt(0).scale.x=0)}}};t.default=n},521:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e=e||{};var t=this,a=[];n.default.init.apply(this.timeline);for(var i=0;i<this.timeline.getNodeCount();i++){var r=this["step"+i];a.push(r),r.alpha=0,r.visible=!1}var o=this.step0;o.visible=!0,o.alpha=1;var s=0;this.timeline.on(n.default.event.CLICK_NODE,function(n){if(void 0!==n.index&&n.index!=s){var i=e.offset||1200;i=n.index>s?$s(i):-$s(i);var r=void 0!==o.currentX?o.currentX:o.currentX=o.x;TweenMax.to(o,e.oldTm||.6,{x:r+i,alpha:0,onComplete:function(t){t.visible=!1,e.isFix||(t.y=0)},onCompleteParams:[o],ease:Expo.easeOut}),s=n.index,(o=a[s]).visible=!0,r=void 0!==o.currentX?o.currentX:o.currentX=o.x,o.x=r-i,TweenMax.to(o,e.newTm||1,{x:r,alpha:1,ease:Expo.easeOut,onComplete:function(){t.emit(t.boxSwitch_event.CHANGE_COM,{target:o,index:n.index})}})}}),this.addEventListener("render",function(){o.onUpdate&&o.onUpdate()}),t.boxSwitch_event={CHANGE_COM:"changeCom"}};var n=function(e){return e&&e.__esModule?e:{default:e}}(a(520))}});