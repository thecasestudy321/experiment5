webpackJsonp([220],{169:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,a){for(var i=new PIXI.Container,r=new PIXI.filters.ColorMatrixFilter,o=n||!1,d=a||{addArrow:!1,type:"horizontal",scale:1},s=new PIXI.Container,h=0;h<3;++h){var c=h+1,l=PIXI.Sprite.fromFrame("TAP_1"+c);l.x=-l.width/2,l.y=-l.height/2;var m=new PIXI.Container;m.addChild(l),s.addChild(m)}var v=0;if(d.direction)switch(d.direction){case"top":v=-Math.PI/2;break;case"bottom":v=Math.PI/2;break;case"left":v=Math.PI;break;case"right":v=0;break;default:v=0}s.filters=[r];for(var p=0;p<s.children.length;p++){var f=s.children[p];f.scale.x=f.scale.y=2,p<2&&P(f,.75*p)}if(i.addChild(s),d.addArrow){var g,w;if(d.direction){g=PIXI.Sprite.fromFrame("oneArrow"),w=new PIXI.extras.MovieClip([g]);var u=d.scale?d.scale:1;w.scale.x=w.scale.y=u,w.pivot={x:0,y:w.height/2},w.rotation=v}else{g=PIXI.Sprite.fromFrame("NBarrow"),(w=new PIXI.extras.MovieClip([g])).pivot={x:w.width/2,y:w.height/2};var T=d.scale?d.scale:1;w.scale.x=w.scale.y=T,"horizontal"!==(d.type?d.type:"horizontal")&&(w.rotation=Math.PI/2)}i.addChild(w),i.arrow=w,i.addEventListener("hideArrow",function(){w.alpha=0,w.visible=!1}),i.addEventListener("showArrow",function(){w.alpha=1,w.visible=!0})}s.alpha=.4;var I=new PIXI.Graphics;function P(e,t){TweenMax.to(e,1.5,{delay:t,alpha:0,repeat:-1}),TweenMax.to(e.scale,1.5,{x:5,y:5,delay:t,repeat:-1})}return I.beginFill(16776960,0),I.drawRect(-50,-50,100,100),i.addChild(I),i.addEventListener(MouseEvent.MOUSE_OVER,function(){s.alpha=.6}),i.addEventListener(MouseEvent.MOUSE_OUT,function(){s.alpha=.4}),i.addEventListener(TouchEvent.TOUCH_BEGIN,function(){i.emit(i.event.TAP),!o&&i.parent&&i.parent.removeChild(i)}),i.x=e,i.y=t,i.setColor=function(e){var t=e>>16,n=e>>8&255,a=255&e;r._loadMatrix([t,0,0,0,0,0,n,0,0,0,0,0,a,0,0,0,0,0,255,0],!1),s.filters=[r]},i.setRotation=function(e){i.rotation=e},i.showAllDir=function(){if(d.direction)for(var e=0;e<3;e++){var t=new PIXI.Container;t.addChild(PIXI.Sprite.fromFrame("oneArrow")),i.addChild(t),t.pivot={x:0,y:w.height/2},t.rotation=Math.PI/2*(e+1)}else{var n=new PIXI.Container;n.addChild(PIXI.Sprite.fromFrame("NBarrow")),i.addChild(n),n.pivot={x:w.width/2,y:w.height/2},n.rotation=i.rotation+Math.PI/2}},i.event={TAP:"pointTap",HIDEARR:"hideArrow",SHOWARR:"showArrow"},instance.info&&instance.info.newLayOut&&i.scale.set(.6,.6),i}},283:function(e,t,n){"use strict";var a=function(e){return e&&e.__esModule?e:{default:e}}(n(169));nb.substance0016=extendsClass(ScienceMain,{frame0:function(){var e=this,t=!1,n=e.magnet.change;e.hit=!1,e.dragArea.visible=!1,NBDrag.addDrag(e.magnet,{x:e.dragArea.x,y:e.dragArea.y+e.magnet.height/2,width:e.dragArea.width,height:e.dragArea.height}),e.magnet.on(NBDrag.event.DRAG_MOVE,function(){NBPoint.distance(this,e.clip)<instance.const.RADIUS+e.magnet.height/2&&(e.clip.x=e.magnet.x,e.hit=!0)});var i=(0,a.default)(0,0,!0);e.magnet.addChild(i),e.magnet.Point=i;var r="frame0"===e.name?"木板":"毛巾";function o(){e.changeTime++,0!=t||TweenMax.isTweening(e.magnet)||(t=!0,TweenMax.to(e.magnet,.5,{rotation:Math.PI,onComplete:function(){},onUpdate:function(){n.rotation=-e.magnet.rotation}})),1!=t||TweenMax.isTweening(e.magnet)||(t=!1,TweenMax.to(e.magnet,.5,{rotation:0,onComplete:function(){},onUpdate:function(){n.rotation=-e.magnet.rotation}})),e.hit||instance.NBDownTip.showTip("拖拽磁铁隔着"+r+"吸引曲别针")}e.changeTime=0;var d=void 0,s=void 0;function h(){e.hit||instance.NBDownTip.showTip("拖拽磁铁隔着"+r+"吸引曲别针")}e.magnet.addEventListener(NBDrag.event.START_DRAG,function(){instance.NBDownTip.hideTip(),e.magnet.removeChild(i),d=e.magnet.x,s=e.magnet.y,n.addEventListener(TouchEvent.TAP,o)}),e.magnet.addEventListener(NBDrag.event.DRAG_MOVE,function(){Math.abs(e.magnet.x-d)<=5&&Math.abs(e.magnet.y-s)<=5||n.removeEventListener(TouchEvent.TAP,o)}),e.magnet.addEventListener(NBDrag.event.STOP_DRAG,function(){e.hit||(instance.NBDownTip.showTip("拖拽磁铁侧着"+r+"吸引曲别针"),e.magnet.addChild(i)),e.com1&&!e.changeTime&&(instance.NBDownTip.showTip("交换磁极试试"),n.visible=!0),e.hit&&!e.com1&&"frame0"===e.name&&(instance.NBDownTipsError.showTip("步骤一完成"),instance.NBStepsShow(!0,1),e.com1=!0),e.hit&&!e.com1&&"frame1"===e.name&&(e.com1=!0)}),e.tool.addEventListener(TouchEvent.TAP,h),e.clip.addEventListener(TouchEvent.TAP,h)},start:function(){this.menu.addStepFromObj(this.info),this.menu.setExperimentName(this.info.labName),this.bindScriptToSprite(this.frame0,"frame0"),this.bindScriptToSprite(this.frame0,"frame1")},info:{experimentImport:"我们已经知道，磁铁能吸引铁制品。那如果在磁铁和铁制物品之间分别放上纸、布、薄木片等物体，磁铁还能不能吸住呢？",labName:"磁铁能隔着物体吸铁吗",title0:"隔着木板能吸铁吗",title1:"隔着毛巾能吸铁吗",CONCLUSION:"磁铁隔着一些物体也能吸铁。"},const:{RADIUS:$s(100)},event:{}}),e.exports=nb.substance0016}});