webpackJsonp([89,267],{169:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,i){for(var n=new PIXI.Container,o=new PIXI.filters.ColorMatrixFilter,r=a||!1,s=i||{addArrow:!1,type:"horizontal",scale:1},h=new PIXI.Container,d=0;d<3;++d){var l=d+1,c=PIXI.Sprite.fromFrame("TAP_1"+l);c.x=-c.width/2,c.y=-c.height/2;var p=new PIXI.Container;p.addChild(c),h.addChild(p)}var u=0;if(s.direction)switch(s.direction){case"top":u=-Math.PI/2;break;case"bottom":u=Math.PI/2;break;case"left":u=Math.PI;break;case"right":u=0;break;default:u=0}h.filters=[o];for(var v=0;v<h.children.length;v++){var f=h.children[v];f.scale.x=f.scale.y=2,v<2&&T(f,.75*v)}if(n.addChild(h),s.addArrow){var g,m;if(s.direction){g=PIXI.Sprite.fromFrame("oneArrow"),m=new PIXI.extras.MovieClip([g]);var x=s.scale?s.scale:1;m.scale.x=m.scale.y=x,m.pivot={x:0,y:m.height/2},m.rotation=u}else{g=PIXI.Sprite.fromFrame("NBarrow"),(m=new PIXI.extras.MovieClip([g])).pivot={x:m.width/2,y:m.height/2};var w=s.scale?s.scale:1;m.scale.x=m.scale.y=w,"horizontal"!==(s.type?s.type:"horizontal")&&(m.rotation=Math.PI/2)}n.addChild(m),n.arrow=m,n.addEventListener("hideArrow",function(){m.alpha=0,m.visible=!1}),n.addEventListener("showArrow",function(){m.alpha=1,m.visible=!0})}h.alpha=.4;var y=new PIXI.Graphics;function T(e,t){TweenMax.to(e,1.5,{delay:t,alpha:0,repeat:-1}),TweenMax.to(e.scale,1.5,{x:5,y:5,delay:t,repeat:-1})}return y.beginFill(16776960,0),y.drawRect(-50,-50,100,100),n.addChild(y),n.addEventListener(MouseEvent.MOUSE_OVER,function(){h.alpha=.6}),n.addEventListener(MouseEvent.MOUSE_OUT,function(){h.alpha=.4}),n.addEventListener(TouchEvent.TOUCH_BEGIN,function(){n.emit(n.event.TAP),!r&&n.parent&&n.parent.removeChild(n)}),n.x=e,n.y=t,n.setColor=function(e){var t=e>>16,a=e>>8&255,i=255&e;o._loadMatrix([t,0,0,0,0,0,a,0,0,0,0,0,i,0,0,0,0,0,255,0],!1),h.filters=[o]},n.setRotation=function(e){n.rotation=e},n.showAllDir=function(){if(s.direction)for(var e=0;e<3;e++){var t=new PIXI.Container;t.addChild(PIXI.Sprite.fromFrame("oneArrow")),n.addChild(t),t.pivot={x:0,y:m.height/2},t.rotation=Math.PI/2*(e+1)}else{var a=new PIXI.Container;a.addChild(PIXI.Sprite.fromFrame("NBarrow")),n.addChild(a),a.pivot={x:m.width/2,y:m.height/2},a.rotation=n.rotation+Math.PI/2}},n.event={TAP:"pointTap",HIDEARR:"hideArrow",SHOWARR:"showArrow"},instance.info&&instance.info.newLayOut&&n.scale.set(.6,.6),n}},239:function(e,t,a){"use strict";nb.substance0147=extendsClass(ScienceMain,{frame0:function(){instance.viewStack.NBONOFF.visible=!1;var e=this.timeline,t=this.step0,a=this.step1,i=!1;a.alpha=0,e.setAutoPlay(!0,1),e.on("change",function(n){!i&&n.time>=1&&(i=!0,TweenMax.to([e,t],.5,{alpha:0,delay:1,onComplete:function(){TweenMax.to(a,.5,{alpha:1})}}));for(var o=1;o<4;o++)t["container"+o].s.alpha=n.time})},start:function(){this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"铁在什么情况下容易生锈？我们怎么防止、减缓铁生锈呢？",labName:"控制铁生锈的速度",CONCLUSION:"铁钉生锈是水和空气共同作用的结果。",newLayOut:!0,bgColor:"#F3E6CF"},const:{},event:{}}),nb.timelineSprite=function(){var e,t,a=this;if(a.bgMask){var i=a.bgMask.getChildAt(0);a.progressBar.mask=i,i.scale.x=0}for(var n,o=this.a0.x===this.a1.x?"vertical":"horizontal",r=0,s=0;s<int.MAX_VALUE;s++){var h=this["a"+s];if(void 0===h){t="vertical"===o?this["a"+(s-1)].y:this["a"+(s-1)].x,r=s;break}0===s&&(e="vertical"===o?h.y:h.x),h.addEventListener(TouchEvent.TAP,function(){"vertical"===o?TweenMax.to(a.drag,.5,{y:this.y,onUpdate:l,onComplete:c}):TweenMax.to(a.drag,.5,{x:this.x,onUpdate:l,onComplete:c}),a.emit("nodeTap",{index:this.name.substr(1,1)})})}this.setDrag=function(e){e&&NBDrag.addDrag(a.drag,n)},this.updateBound=function(){"vertical"==o?(n={x:this.drag.x,y:this.drag.y,width:0,height:t},n={x:this.drag.x,y:this.drag.y,width:0,height:t}):n={x:this.drag.x,y:this.drag.y,width:t,height:0}},this.updateBound(),a.drag.addEventListener(NBDrag.event.STOP_DRAG,function(){if(!1!==a._align_){var i=r-1;if("vertical"===o){var n=Math.round((this.y-e)/(t-e)*i);n<0&&(n=0),TweenMax.to(this,.5,{y:n*(t-e)/i,onUpdate:l,onComplete:c})}else{var s=Math.round((this.x-e)/(t-e)*i);s<0&&(s=0)}}}),a.drag.addEventListener(NBDrag.event.DRAG_MOVE,function(){l()}),a.drag.constY=a.drag.y;var d,l=function(){if("vertical"===o){var i=(a.drag.y-e)/(t-e);a.emit("change",{time:i})}else{a.drag.y=a.drag.constY,a.drag.x>=t&&(a.drag.x=t),a.drag.x<=e&&(a.drag.x=e);var n=(a.drag.x-e)/(t-e);a.emit("change",{time:n}),a.drag.line0&&(a.drag.line0.rotation=1800*n*Math.PI/180,a.drag.line1.rotation=360*n*Math.PI/180),a.bgMask&&(a.bgMask.getChildAt(0).scale.x=n)}},c=function(){a.setMomentsPause(!0,2e3,2);var i=r-1;if("vertical"===o){var n=(a.drag.y-e)/(t-e),s=Math.round(n*i);a.emit("change",{index:s,time:n})}else{var h=(a.drag.x-e)/(t-e),d=Math.round(h*i);a.emit("change",{index:d,time:h})}};this.getNodeCount=function(){return r},this.setNodePos=function(e){var t=this["a"+e];"vertical"===o?a.drag.y=t.y:a.drag.x=t.x},nb.MovieClip.ticker.add(function(){if(a._auto_&&!a.drag.isDragging){var i=t-e;"vertical"===o?(a.drag.y+=a._speed_,a.drag.y>i&&(a.drag.y=i)):(a.drag.x+=a._speed_,a.drag.x>i+a.a0.x&&(a.drag.x=i+a.a0.x)),l()}}),this.setAutoPlay=function(e,t){this._auto_=e,this._speed_=t||.1},this.setAutoAlign=function(e){this._align_=e},this.setMomentsPause=function(e,t,i){clearTimeout(d),e&&!a.NOTafterStopPlay?(a.setAutoPlay(!1),clearTimeout(d),a.setAutoPlay(!1),d=setTimeout(function(){a.setAutoPlay(!0,i)},t)):a.setAutoPlay(!1)},this.resetTimeline=function(){this.drag.x=this.bgMask.x}},e.exports=nb.substance0147},390:function(e,t,a){"use strict";var i=function(e){return e&&e.__esModule?e:{default:e}}(a(169));a(239),nb.substance0563=extendsClass(ScienceMain,{frame0:function(){var e=this,t=(0,i.default)(0,0);e.spoon.addChild(t);var a=0,n=!0;function o(){n&&(0===e.spoon.medicine.alpha?instance.NBDownTip.showTip("用勺子舀取盐"):instance.NBDownTip.showTip("将盐放置到装有冰的试管中"))}e.spoon.medicine.alpha=0,e.hitArea.alpha=0,e.spooncopy.alpha=0,e.tube.sprite.alpha=0,e.timeline.alpha=0,e.timeline.y=$("canvas")[0].height+2*e.timeline.height,NBDrag.addDrag(e.spoon),e.spoon.addEventListener(NBDrag.event.START_DRAG,function(){1!=this.medicine.alpha?e.setChildIndex(e.medContainer,e.children.length-1):e.setChildIndex(this,e.children.length-1);5!=a&&0!=a||instance.NBDownTip.hideTip();e.spoon.removeChild(t),this.startX=this.x,this.startY=this.y}),e.spoon.addEventListener(NBDrag.event.DRAG_MOVE,function(){this.hitTest(e.medContainer)?0===this.medicine.alpha&&TweenMax.to(this,.4,{rotation:-45*Math.PI/180}):TweenMax.to(this,.4,{rotation:0})}),e.spoon.addEventListener(NBDrag.event.STOP_DRAG,function(){var i=this;this.hitTest(e.medContainer)?(e.setChildIndex(this,e.children.length-1),TweenMax.to(this.medicine,.4,{alpha:1}),TweenMax.to(this,.4,{rotation:0,onComplete:function(){n&&(e.spoon.addChild(t),instance.NBDownTip.showTip("将盐放置到装有冰的试管中"))}})):0===e.spoon.medicine.alpha?n&&(instance.NBDownTip.showTip("用勺子舀取盐"),e.spoon.addChild(t)):this.hitTest(e.hitArea)&&a<6?TweenMax.to(this,.4,{x:e.spooncopy.x,y:e.spooncopy.y,onComplete:function(){a++;var t=e.spooncopy.clone();t.name=e.spooncopy.name+a,e.addChild(t),i.medicine.alpha=0,i.alpha=0,i.rotation=-45*Math.PI/180,TweenMax.to(t,.4,{rotation:-45*Math.PI/180,onComplete:function(){t.test.alpha=0,t.rotation=0,i.alpha=1,TweenMax.to(i,.4,{rotation:0}),TweenMax.to(t.medicine,.5,{alpha:0,y:e.tube.y+e.tube.height/2,currentFrame:t.totalFrames-1,onComplete:function(){t.alpha=0,instance.NBDownTip.noHide("请放较多的盐"),a>=5&&(i.alpha=0,instance.NBDownTip.showTip("加盐完成，请观察"),TweenMax.to(e.timeline,.4,{y:$("canvas")[0].height-2*e.timeline.height,alpha:1,onComplete:function(){e.timeline.setAutoPlay(!0,2),e.timeline.setAutoAlign(!1),e.timeline.setMomentsPause(!0,1e3,2),e.timeline.addEventListener("change",function(t){e.tube.sprite.alpha=t.time})}})),n=!1}})}})}}):n&&(e.spoon.addChild(t),instance.NBDownTip.showTip("将盐放置到装有冰的试管中"))}),e.tube.addEventListener(TouchEvent.TAP,o),e.medContainer.addEventListener(TouchEvent.TAP,o),this.onUpdate=function(){}},start:function(){this.menu.addStepFromObj(this.info),this.bindScriptToSprite(this.frame0,"frame0"),this.gotoStep("frame0")},info:{experimentImport:"凝华是水从气态直接变成固态的过程",labName:"凝华",title0:"加入盐观察效果",CONCLUSION:"空气中的水蒸气遇到了冷的玻璃杯壁（低于0°C），从而凝华成冰晶。",needNoOperationTip:"用勺子舀取盐"},const:{},event:{}}),e.exports=nb.substance0563}});