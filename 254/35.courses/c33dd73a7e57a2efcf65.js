webpackJsonp([35],{169:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n,t,a){for(var i=new PIXI.Container,r=new PIXI.filters.ColorMatrixFilter,o=t||!1,c=a||{addArrow:!1,type:"horizontal",scale:1},l=new PIXI.Container,s=0;s<3;++s){var d=s+1,h=PIXI.Sprite.fromFrame("TAP_1"+d);h.x=-h.width/2,h.y=-h.height/2;var u=new PIXI.Container;u.addChild(h),l.addChild(u)}var f=0;if(c.direction)switch(c.direction){case"top":f=-Math.PI/2;break;case"bottom":f=Math.PI/2;break;case"left":f=Math.PI;break;case"right":f=0;break;default:f=0}l.filters=[r];for(var v=0;v<l.children.length;v++){var g=l.children[v];g.scale.x=g.scale.y=2,v<2&&E(g,.75*v)}if(i.addChild(l),c.addArrow){var m,p;if(c.direction){m=PIXI.Sprite.fromFrame("oneArrow"),p=new PIXI.extras.MovieClip([m]);var w=c.scale?c.scale:1;p.scale.x=p.scale.y=w,p.pivot={x:0,y:p.height/2},p.rotation=f}else{m=PIXI.Sprite.fromFrame("NBarrow"),(p=new PIXI.extras.MovieClip([m])).pivot={x:p.width/2,y:p.height/2};var C=c.scale?c.scale:1;p.scale.x=p.scale.y=C,"horizontal"!==(c.type?c.type:"horizontal")&&(p.rotation=Math.PI/2)}i.addChild(p),i.arrow=p,i.addEventListener("hideArrow",function(){p.alpha=0,p.visible=!1}),i.addEventListener("showArrow",function(){p.alpha=1,p.visible=!0})}l.alpha=.4;var T=new PIXI.Graphics;function E(e,n){TweenMax.to(e,1.5,{delay:n,alpha:0,repeat:-1}),TweenMax.to(e.scale,1.5,{x:5,y:5,delay:n,repeat:-1})}return T.beginFill(16776960,0),T.drawRect(-50,-50,100,100),i.addChild(T),i.addEventListener(MouseEvent.MOUSE_OVER,function(){l.alpha=.6}),i.addEventListener(MouseEvent.MOUSE_OUT,function(){l.alpha=.4}),i.addEventListener(TouchEvent.TOUCH_BEGIN,function(){i.emit(i.event.TAP),!o&&i.parent&&i.parent.removeChild(i)}),i.x=e,i.y=n,i.setColor=function(e){var n=e>>16,t=e>>8&255,a=255&e;r._loadMatrix([n,0,0,0,0,0,t,0,0,0,0,0,a,0,0,0,0,0,255,0],!1),l.filters=[r]},i.setRotation=function(e){i.rotation=e},i.showAllDir=function(){if(c.direction)for(var e=0;e<3;e++){var n=new PIXI.Container;n.addChild(PIXI.Sprite.fromFrame("oneArrow")),i.addChild(n),n.pivot={x:0,y:p.height/2},n.rotation=Math.PI/2*(e+1)}else{var t=new PIXI.Container;t.addChild(PIXI.Sprite.fromFrame("NBarrow")),i.addChild(t),t.pivot={x:p.width/2,y:p.height/2},t.rotation=i.rotation+Math.PI/2}},i.event={TAP:"pointTap",HIDEARR:"hideArrow",SHOWARR:"showArrow"},instance.info&&instance.info.newLayOut&&i.scale.set(.6,.6),i}},427:function(e,n,t){"use strict";var a=c(t(169)),i=c(t(541)),r=c(t(547)),o=c(t(522));function c(e){return e&&e.__esModule?e:{default:e}}nb.substance0602=extendsClass(ScienceMain,{frame0:function(){var e=this;instance.viewStack.NBONOFF.visible=!1;var n=e.balance,t=e.bing,c=e.bing1,l=e.bottle1,s=e.bottle,d=e.step1,h=e.btn,u=e.form,f=e.dianzi;t.alpha=c.alpha=l.alpha=d.alpha=h.alpha=0,d.interactiveChildren=!1;var v=(0,a.default)(0,0);s.addChild(v);var g=Power0.easeNone,m=0;o.default.apply(u),i.default.apply(e.balance,[{name:"arr"}]),NBDrag.addDrag(s),s.addEventListener(NBDrag.event.START_DRAG,w),s.addEventListener(NBDrag.event.STOP_DRAG,E);for(var p=0;p<5;p++)u.dragForm["t"+p].alpha=0;function w(){this.initX=this.x,this.initY=this.y,this.scrib.alpha=0,e[this.name+1].alpha=.3,this.removeChild(v)}function C(){1==++m?(u.dragForm.t0.alpha=1,TweenMax.to(s,.5,{alpha:0,delay:.8,ease:g,onComplete:function(){TweenMax.to(t,.5,{alpha:1,delay:.4,ease:g,onComplete:function(){nb.scienceCommonFun.resetName(e.tip,"称“月饼”的质量，并填入表格中"),t.addChild(v),NBDrag.addDrag(t),t.addEventListener(NBDrag.event.START_DRAG,w),t.addEventListener(NBDrag.event.STOP_DRAG,E)}})}})):2===m&&(u.dragForm.t1.alpha=u.dragForm.t2.alpha=1,TweenMax.to(h,.3,{alpha:1,ease:g,onComplete:function(){nb.scienceCommonFun.resetName(e.tip,"点击“下一步”计算盒子和月饼体积，并填入表格中"),h.addEventListener(TouchEvent.TAP,T)}}))}function T(){1===h.alpha&&TweenMax.to([n,t,h,f],.5,{alpha:0,onComplete:function(){TweenMax.to(d,.3,{alpha:1,onComplete:function(){nb.scienceCommonFun.resetName(e.tip,"计算月饼盒和月饼的体积"),d.interactiveChildren=!0}})}})}function E(){var t=this;this.interactive=!1,e[this.name+1].alpha=0,t.hitTest(n)?TweenMax.to(t,.5,{x:e[this.name+1].x,y:e[this.name+1].y,ease:g,onComplete:function(){NBDrag.removeDrag(t),"bottle"==t.name?(n.setBalanceUp({num0:5,num1:0,num2:0,num3:0}),n.addEventListener(n.event.ISCOMPLETE,C)):"bing"==t.name&&n.setBalanceUp({num0:3,num1:0,num2:0,num3:0})}}):TweenMax.to(t,.5,{x:t.initX,y:t.initY,ease:g,onComplete:function(){t.scrib.alpha=1,t.addChild(v),t.interactive=!0}})}(0,r.default)(d.calc,{accuracy:2,digit:4}),d.calc.addEventListener(r.default.event.FINISH,function(e){900==e&&(u.dragForm.t4.alpha=1),235.5==e&&(u.dragForm.t3.alpha=1)})},start:function(){this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"我们来小小研究一下在商品包装中产生了哪些垃圾，产生了多少垃圾？",labName:"商品包装小研究",CONCLUSION:"有些商品由于过度包装，产生了本不应产生的垃圾。",newLayOut:!0,bgColor:"#F3E6CF"},const:{},event:{}}),e.exports=nb.substance0602},522:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){var t=e||this,a=t.parent,i=t.record,r=Object.assign({offsetX:-(t.width+10),offsetY:100,limitRect:!0},n),o=instance.stage.NBONOFF||instance.viewStack.NBONOFF,c=Sine.easeInOut;a.bgMask&&(t.mask=a.bgMask.children[0]);t.x=1280-t.record.width-2,t.y=60+o.height*o.scale.y+5;var l=t.x,s=t.y,d=t.x+r.offsetX,h=t.y+r.offsetY;i.addEventListener(TouchEvent.TAP,v);var u=i.x-t.dragForm.x,f=i.y-t.dragForm.y;function v(e){instance.NBDownTip.hideTip(),instance.NBDownTipsError.hideTip(),a.setChildIndex(t,a.children.length-1),t.x==l?(t.emit("showData",{goBack:!1}),TweenMax.to(t,.4,{y:h,onComplete:function(){TweenMax.to(t,.4,{x:d,onComplete:function(){var e=void 0;r.limitRect&&(e={x:0,y:0,width:1280-t.width/3,height:720-t.height}),NBDrag.addDrag(t,e),t.addEventListener(NBDrag.event.DRAG_MOVE,p),t.addEventListener(NBDrag.event.STOP_DRAG,g),i.icon&&TweenMax.to(i.icon,.2,{rotation:Math.PI,ease:c})}})}}),r.showModelMask&&(TweenMax.killTweensOf(a.recordGra),TweenMax.to(a.recordGra,.5,{alpha:1,onComplete:function(){a.setChildIndex(t,a.children.length-1),a.setChildIndex(a.recordGra,a.children.length-2)}}))):(t.emit("showData",{goBack:!0}),e&&m())}function g(){instance.NBDownTip.hideTip(),instance.NBDownTipsError.hideTip(),t.x>l-t.width/3&&m()}function m(){TweenMax.to(t,.5,{x:l,onComplete:function(){TweenMax.to(t,.4,{y:s,onComplete:function(){NBDrag.removeDrag(t),t.removeEventListener(NBDrag.event.DRAG_MOVE,p),t.removeEventListener(NBDrag.event.STOP_DRAG,g),i.icon&&TweenMax.to(i.icon,.2,{rotation:0,ease:c})}})}}),r.showModelMask&&(TweenMax.killTweensOf(a.recordGra),TweenMax.to(a.recordGra,.5,{alpha:0,onComplete:function(){a.setChildIndex(a.recordGra,0)}}))}function p(){t.record.x=u+t.dragForm.x,t.record.y=f+t.dragForm.y}t.showRecord=v,t.recordBack=m,function(){if(r.showModelMask){var e=new PIXI.Graphics;e.beginFill(0,.6),e.drawRect(0,0,1280,720),e.endFill(),a.addChild(e),a.recordGra=e,a.setChildIndex(a.recordGra,0),a.setChildIndex(t,a.children.length-1),a.recordGra.alpha=0,e.addEventListener(TouchEvent.TAP,function(){})}}()}},541:function(e,n,t){"use strict";function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){for(var n,t=e?e.name:"numArr",i=this,r=(a(n={upTimer:null,upTimeOut:null},"upTimeOut",null),a(n,"downTimeOut",null),n),o=[],c=0;c<10;c++){if(!i[t+c]){i.arrLength=o.length;break}o.push(i["numTimer"+c])}function l(){for(var e in r)clearTimeout(r[e])}i.setBalanceDown=function(e,n){l(),r.downTimer=setInterval(function(){for(var n=0;n<i.arrLength;n++){var a=e["num"+n],r=Math.round(10*Math.random());r=r>a?a:r,i[t+n].gotoAndStop(r)}},300),r.downTimeOut=setTimeout(function(){clearInterval(r.downTimer);for(var e=0;e<i.arrLength;e++){var a=void 0;a=n&&n["num"+e]?n["num"+e]:0,i[t+e].gotoAndStop(a)}i.emit(i.event.ISCOMPLETE)},1e3)},i.setBalanceUp=function(e){l(),r.upTimer=setInterval(function(){for(var n=0;n<i.arrLength;n++){var a=Math.round(10*Math.random());0===n&&(a=a>e.num0?e.num0:a),i[t+n].gotoAndStop(a)}},300),r.upTimeOut=setTimeout(function(){clearInterval(r.upTimer);for(var n=0;n<i.arrLength;n++)i[t+n].gotoAndStop(e["num"+n]);i.emit(i.event.ISCOMPLETE)},1e3)},i.event={ISCOMPLETE:"complete"}}},547:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var component=function component(obj){var config=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},calculator=obj||this,isFinish=!1,accuracy=config.accuracy,digit=config.digit,isLED=config.isLED,onInit=config.onInit;void 0!==accuracy&&(accuracy<<=0),void 0!==digit&&(digit<<=0),isLED=void 0===isLED||!!isLED;var configArr={d:{_showChar:"÷",_innerChar:"/",_isChar:!0},m:{_showChar:"×",_innerChar:"*",_isChar:!0},s:{_showChar:"-",_innerChar:"-",_isChar:!0},a:{_showChar:"+",_innerChar:"+",_isChar:!0},e:{_showChar:"=",_innerChar:"=",_isChar:!1,_func:finish},c:{_showChar:"C",_innerChar:"",_isChar:!1,_func:clear},p:{_showChar:".",_innerChar:"."}},calString="";function initLayout(){calculator.children.forEach(function(e){var n=e.name;if(n&&-1!==n.indexOf("btn_")){var t=n.substr(4),a=configArr[t];a?(Object.assign(e,a),t=a._showChar):e._innerChar=t,e.num.text=t,initEvent(e)}}),NBDrag.addDrag(calculator),"function"==typeof onInit&&onInit()}function initEvent(e){function n(){e.bg.gotoAndStop(0)}e.addEventListener(TouchEvent.TOUCH_BEGIN,function(){if(e.bg.gotoAndStop(1),e._func)return void e._func();(void 0===e._isChar||e._isChar)&&updateString(e._innerChar)}),e.addEventListener(TouchEvent.TOUCH_END,n),e.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,n)}function updateString(e){if(isFinish&&(isCalChar(e)||(calString=""),isFinish=!1),isCalChar(e)&&isCalChar(calString.substr(-1))){var n=calString.length;calString=calString.substr(0,n-1)+e}else{var t=getNowNum();"."!==e?calString+=e:-1===t.indexOf(".")&&(Number.isNaN(parseFloat(t))?calString+="0.":calString+=e),clearNowNum(),updateLED(e)}}function isCalChar(e){return"+"===e||"-"===e||"*"===e||"/"===e}function getNowNum(){var e="",n=calString.split("").reverse().join("").match(/[+|\-|*|\/]/);if(null!==n){if(!(n=n.index))return"";e=calString.substr(-n)}else e=""+calString;return e}function clearNowNum(){var e=getNowNum(),n=parseFloat(e),t=e.indexOf(".");if(Number.isNaN(n)||-1!==t){if(accuracy){var a=accuracy,i=e.split(".");if(i.length>=2){i[1].length>=a&&(i[1]=i[1].substr(0,a)),e=i.join(".");var r=calString.length;calString=calString.substr(0,r-getNowNum().toString().length)+e}}}else if(digit&&-1===t){var o=e.split(".");o[0].length>=digit&&(o[0]=o[0].substr(0,digit)),e=o.length>=2?o.join("."):o[0];var c=calString.length;calString=calString.substr(0,c-getNowNum().toString().length)+e}else{var l=calString.length;calString=calString.substr(0,l-e.toString().length)+n}}function updateLED(e){if(!isCalChar(e)){var n=getNowNum();calculator.emit(component.event.INPUT,{char:e,isFinish:isFinish,nowNum:n}),showLED(n)}}function showLED(e){if(isLED){for(var n=0;n<8;n++)calculator["led_"+n].visible=!1;var t=(""+e).substr(0,8).split("").reverse();if(-1!==t.indexOf("."))for(;"0"===t[0];)t.shift();for(var a in t){var i=t[a],r=calculator["led_"+a];r&&(r.visible=!0,"."===i?r.gotoAndStop(10):r.gotoAndStop(i<<0))}}}function finish(){isCalChar(calString.substr(-1))&&(calString=calString.substr(0,calString.length-1));var ans=0;try{if(ans=eval(calString),void 0!==ans&&ans!==1/0&&ans!==-1/0||(ans=0),-1!==ans.toString().indexOf(".")){var nums=ans.toString().split(".");nums[1]&&nums[1].length>=accuracy&&(ans=nums[0]+"."+nums[1].substr(0,accuracy))}calculator.emit(component.event.FINISH,ans)}catch(e){calculator.emit(component.event.ERROR,e)}finally{showLED(ans),calString=ans+"",isFinish=!0}}function clear(){calString="",showLED(0),calculator.emit(component.event.CLEAR)}return initLayout(),clear(),calculator._clear=clear,calculator._getNowNum=getNowNum,calculator};component.event={INPUT:"component.event.INPUT",FINISH:"component.event.FINISH",ERROR:"component.event.ERROR",CLEAR:"component.event.CLEAR"},exports.default=component}});