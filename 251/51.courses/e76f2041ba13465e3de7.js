webpackJsonp([51],{165:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={toggle:{STATUS:"event.toggle.status"},radioButton:{CHANGE:"event.radioButton.change",TAPACTIVE:"event.radioButton.tap_active"},science3D:{SHOW_INTRODUCE:"event.science3D.show_introduce",SHOW_MESH:"event.science3D.show_mesh",PLAY_ANIMATION:"event.science3D.play_animation"},popup:{CLOSE:"event.popup.close"},experimentStep:{CHANGE:"event.experimentStep.change"}}},169:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,o){for(var a=new PIXI.Container,i=new PIXI.filters.ColorMatrixFilter,r=n||!1,d=o||{addArrow:!1,type:"horizontal",scale:1},s=new PIXI.Container,c=0;c<3;++c){var l=c+1,u=PIXI.Sprite.fromFrame("TAP_1"+l);u.x=-u.width/2,u.y=-u.height/2;var f=new PIXI.Container;f.addChild(u),s.addChild(f)}var h=0;if(d.direction)switch(d.direction){case"top":h=-Math.PI/2;break;case"bottom":h=Math.PI/2;break;case"left":h=Math.PI;break;case"right":h=0;break;default:h=0}s.filters=[i];for(var p=0;p<s.children.length;p++){var v=s.children[p];v.scale.x=v.scale.y=2,p<2&&E(v,.75*p)}if(a.addChild(s),d.addArrow){var m,w;if(d.direction){m=PIXI.Sprite.fromFrame("oneArrow"),w=new PIXI.extras.MovieClip([m]);var g=d.scale?d.scale:1;w.scale.x=w.scale.y=g,w.pivot={x:0,y:w.height/2},w.rotation=h}else{m=PIXI.Sprite.fromFrame("NBarrow"),(w=new PIXI.extras.MovieClip([m])).pivot={x:w.width/2,y:w.height/2};var T=d.scale?d.scale:1;w.scale.x=w.scale.y=T,"horizontal"!==(d.type?d.type:"horizontal")&&(w.rotation=Math.PI/2)}a.addChild(w),a.arrow=w,a.addEventListener("hideArrow",function(){w.alpha=0,w.visible=!1}),a.addEventListener("showArrow",function(){w.alpha=1,w.visible=!0})}s.alpha=.4;var A=new PIXI.Graphics;function E(t,e){TweenMax.to(t,1.5,{delay:e,alpha:0,repeat:-1}),TweenMax.to(t.scale,1.5,{x:5,y:5,delay:e,repeat:-1})}return A.beginFill(16776960,0),A.drawRect(-50,-50,100,100),a.addChild(A),a.addEventListener(MouseEvent.MOUSE_OVER,function(){s.alpha=.6}),a.addEventListener(MouseEvent.MOUSE_OUT,function(){s.alpha=.4}),a.addEventListener(TouchEvent.TOUCH_BEGIN,function(){a.emit(a.event.TAP),!r&&a.parent&&a.parent.removeChild(a)}),a.x=t,a.y=e,a.setColor=function(t){var e=t>>16,n=t>>8&255,o=255&t;i._loadMatrix([e,0,0,0,0,0,n,0,0,0,0,0,o,0,0,0,0,0,255,0],!1),s.filters=[i]},a.setRotation=function(t){a.rotation=t},a.showAllDir=function(){if(d.direction)for(var t=0;t<3;t++){var e=new PIXI.Container;e.addChild(PIXI.Sprite.fromFrame("oneArrow")),a.addChild(e),e.pivot={x:0,y:w.height/2},e.rotation=Math.PI/2*(t+1)}else{var n=new PIXI.Container;n.addChild(PIXI.Sprite.fromFrame("NBarrow")),a.addChild(n),n.pivot={x:w.width/2,y:w.height/2},n.rotation=a.rotation+Math.PI/2}},a.event={TAP:"pointTap",HIDEARR:"hideArrow",SHOWARR:"showArrow"},instance.info&&instance.info.newLayOut&&a.scale.set(.6,.6),a}},436:function(t,e,n){"use strict";var o=r(n(169)),a=r(n(530)),i=r(n(577));function r(t){return t&&t.__esModule?t:{default:t}}nb.substance0613=extendsClass(ScienceMain,{frame0:function(){var t=this;a.default.apply(t.node0,[{name:"check"}]),i.default.apply(t.node1,[{name:"check"}]),i.default.apply(t.node2,[{name:"check"}]),t.ware.alpha=0,t.tool.alpha=0,t.dirtyBottle.alpha=0,t.bottle.alpha=0;var e=(0,o.default)(0,0,!0),n=(0,o.default)(0,0,!0),r=(0,o.default)(0,0,!0);function d(e){var n=e.name,o=e.x,a=e.y;t[n+"Start"]={x:o,y:a}}function s(t,e){var n=0;return e.forEach(function(e){t["check"+e].currentFrame&&n++}),n==e.length}function c(){instance.NBDownTip.hideTip(),this.removeChild(this.Point),this.txt0.visible=!1,t.addChild(this),"bottle"===this.name&&(TweenMax.to(t.girl,.5,{alpha:0}),TweenMax.to(t.target,.5,{alpha:1}))}function l(){var e=this;if(this.hitTest(t.girl)){if("ware"===this.name)t.girl.gotoAndStop(1),t.isWare=!0;else if("tool"===this.name){if(!t.isWare)return void TweenMax.to(this,.5,{x:t[this.name+"Start"].x,y:t[this.name+"Start"].y,ease:Sine.easeInOut,onComplete:function(){u(),e.txt0.alpha=1}});t.girl.gotoAndStop(2),nb.GlobalEffect.fadeIn(t.bottle),t.isTool=!0,NBDrag.addDrag(t.bottle),t.bottle.addEventListener(NBDrag.event.START_DRAG,c),t.bottle.addEventListener(NBDrag.event.STOP_DRAG,l)}else t.girl.gotoAndStop(3),t.isBottle=!0,nb.GlobalEffect.fadeIn(t.dirtyBottle),t.complete=!0,t.target.alpha=1;TweenMax.to(this.scale,.5,{x:.2,y:.2}),TweenMax.to(this,.5,{x:t.girl.x,y:t.girl.y,alpha:0,onComplete:function(){nb.GlobalEffect.fadeOut(e),u()}})}else this.interactive=!1,TweenMax.to(this,.5,{x:t[this.name+"Start"].x,y:t[this.name+"Start"].y,ease:Sine.easeInOut,onComplete:function(){u(),e.txt0.visible=!0,e.interactive=!0}}),"bottle"===this.name&&(TweenMax.to(t.girl,.5,{alpha:1}),TweenMax.to(t.target,.5,{alpha:0}))}function u(){t.complete||(t.isWare?t.isTool?t.isBottle||(instance.NBDownTip.showTip("请用水瓶盛装污水水样"),t.bottle.addChild(r)):(instance.NBDownTip.showTip("请用工具采集污水水样"),t.tool.addChild(n)):(instance.NBDownTip.showTip("请带好手套"),t.ware.addChild(e)))}t.ware.Point=e,t.tool.Point=n,t.bottle.Point=r,t.target.alpha=0,d(t.tool),d(t.ware),d(t.bottle),t.node0.addEventListener("event.radioButton.tap_active",function(e){t.node0["check"+e.index].gotoAndStop(0),this.activeButton=null}),t.node0.addEventListener("event.radioButton.change",function(){instance.NBDownTip.hideTip()}),t.node1.addEventListener("event.radioButton.change",function(){instance.NBDownTip.hideTip()}),t.node2.addEventListener("event.radioButton.change",function(){instance.NBDownTip.hideTip()}),t.node2.okBtn.addEventListener(TouchEvent.TAP,function e(){var n=s(t.node0,[1]);var o=s(t.node1,[0,1]);var a=s(t.node2,[0,2,3]);n?o?a?(this.removeEventListener(TouchEvent.TAP,e),nb.GlobalEffect.fadeOut(t.node0),nb.GlobalEffect.fadeOut(t.node1),nb.GlobalEffect.fadeOut(t.node2),nb.GlobalEffect.fadeIn(t.tool),nb.GlobalEffect.fadeIn(t.ware),setTimeout(function(){u(),NBDrag.addDrag(t.tool),NBDrag.addDrag(t.ware),t.tool.addEventListener(NBDrag.event.START_DRAG,c),t.tool.addEventListener(NBDrag.event.STOP_DRAG,l),t.ware.addEventListener(NBDrag.event.START_DRAG,c),t.ware.addEventListener(NBDrag.event.STOP_DRAG,l)},800)):instance.NBDownTip.showTip("请仔细观察漂浮物"):instance.NBDownTip.showTip("请仔细观察水中生活的生物"):instance.NBDownTip.showTip("请仔细观察有无污水排放")})},start:function(){this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"到自然水域，进行实地考察，并对水进行采样。",labName:"模拟自然水域考察",CONCLUSION:"采取水样的时候，请先准备好隔离措施。",newLayOut:!0,isOffset:!0},const:{},event:{}}),t.exports=nb.substance0613},530:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=this,n=t?t.name:"icon";this.activeButton=null;for(var i=this,r=function(t){var o=e[n+t];if(!o)return"break";if(o.buttonMode=!0,o.gotoAndStop){if(o.totalFrames>3)throw"图标动画的帧数不能超过3帧，请调整结构或者联系作者"}else o.gotoAndStop=function(t){o.component&&o.component.gotoAndStop&&o.component.gotoAndStop(t)},Object.defineProperty(o,"currentFrame",{get:function(){return o.component.currentFrame},set:function(t){o.component.currentFrame=t}}),Object.defineProperty(o,"totalFrames",{get:function(){return o.component.totalFrames}});window.NBGesture?NBGesture.addGesture(o,NBGesture.gesture.TAP,s):o.addEventListener(TouchEvent.TOUCH_END,s),NBGesture.addGesture,3===o.totalFrames&&(o.addEventListener(MouseEvent.MOUSE_OVER,c),o.addEventListener(MouseEvent.MOUSE_OUT,l))},d=0;d<a;d++){if("break"===r(d))break}function s(t){var e=parseInt(this.name.replace(n,""));i.activeButton!==this?i.check&&!1===i.check()||(i.activeButton&&i.activeButton.gotoAndStop(0),i.setActiveIndex(e)):i.emit(o.default.radioButton.TAPACTIVE,{index:e})}function c(t){0===this.currentFrame&&this.gotoAndStop(1)}function l(t){1===this.currentFrame&&this.gotoAndStop(0)}this.getActiveButton=function(){return i.activeButton},this.setActiveIndex=function(t){var a=e[n+t];if(!a)return i.activeButton&&i.activeButton.gotoAndStop(0),i.activeButton=null,void i.emit(o.default.radioButton.CHANGE,{index:-1});i.activeButton=a;var r=i.activeButton.totalFrames;void 0===r&&(r=i.activeButton.component.totalFrames),i.activeButton.gotoAndStop(r-1),i.emit(o.default.radioButton.CHANGE,{index:t})}};var o=function(t){return t&&t.__esModule?t:{default:t}}(n(165));var a=100},577:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e=this,n=t?t.name:"icon",i=null,r=this,d=function(t){var o=e[n+t];if(!o)return"break";if(o.buttonMode=!0,o.gotoAndStop){if(o.totalFrames>3)throw"图标动画的帧数不能超过3帧，请调整结构或者联系作者"}else o.gotoAndStop=function(t){o.component&&o.component.gotoAndStop&&o.component.gotoAndStop(t)},Object.defineProperty(o,"currentFrame",{get:function(){return o.component.currentFrame},set:function(t){o.component.currentFrame=t}}),Object.defineProperty(o,"totalFrames",{get:function(){return o.component.totalFrames}});window.NBGesture?NBGesture.addGesture(o,NBGesture.gesture.TAP,c):o.addEventListener(TouchEvent.TOUCH_END,c),3===o.totalFrames&&(o.addEventListener(MouseEvent.MOUSE_OVER,l),o.addEventListener(MouseEvent.MOUSE_OUT,u))},s=0;s<a;s++){if("break"===d(s))break}function c(t){if(i!==this&&(!r.check||!1!==r.check())){i&&i.gotoAndStop(0);var e=parseInt(this.name.replace(n,""));r.setActiveIndex(e)}}function l(t){0===this.currentFrame&&this.gotoAndStop(1)}function u(t){1===this.currentFrame&&this.gotoAndStop(0)}this.getActiveButton=function(){return i},this.setActiveIndex=function(t){var a=e[n+t];if(!a)return i&&i.gotoAndStop(0),i=null,void r.emit(o.default.radioButton.CHANGE,{index:-1});var d=(i=a).totalFrames;void 0===d&&(d=i.component.totalFrames),i.currentFrame===i.totalFrames-1?i.gotoAndStop(0):i.gotoAndStop(d-1),i=null,r.emit(o.default.radioButton.CHANGE,{index:t})}};var o=function(t){return t&&t.__esModule?t:{default:t}}(n(165));var a=100}});