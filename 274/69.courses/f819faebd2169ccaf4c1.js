webpackJsonp([69],{169:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,a){for(var i=new PIXI.Container,o=new PIXI.filters.ColorMatrixFilter,r=n||!1,l=a||{addArrow:!1,type:"horizontal",scale:1},s=new PIXI.Container,c=0;c<3;++c){var d=c+1,u=PIXI.Sprite.fromFrame("TAP_1"+d);u.x=-u.width/2,u.y=-u.height/2;var h=new PIXI.Container;h.addChild(u),s.addChild(h)}var p=0;if(l.direction)switch(l.direction){case"top":p=-Math.PI/2;break;case"bottom":p=Math.PI/2;break;case"left":p=Math.PI;break;case"right":p=0;break;default:p=0}s.filters=[o];for(var v=0;v<s.children.length;v++){var f=s.children[v];f.scale.x=f.scale.y=2,v<2&&I(f,.75*v)}if(i.addChild(s),l.addArrow){var m,T;if(l.direction){m=PIXI.Sprite.fromFrame("oneArrow"),T=new PIXI.extras.MovieClip([m]);var x=l.scale?l.scale:1;T.scale.x=T.scale.y=x,T.pivot={x:0,y:T.height/2},T.rotation=p}else{m=PIXI.Sprite.fromFrame("NBarrow"),(T=new PIXI.extras.MovieClip([m])).pivot={x:T.width/2,y:T.height/2};var g=l.scale?l.scale:1;T.scale.x=T.scale.y=g,"horizontal"!==(l.type?l.type:"horizontal")&&(T.rotation=Math.PI/2)}i.addChild(T),i.arrow=T,i.addEventListener("hideArrow",function(){T.alpha=0,T.visible=!1}),i.addEventListener("showArrow",function(){T.alpha=1,T.visible=!0})}s.alpha=.4;var w=new PIXI.Graphics;function I(e,t){TweenMax.to(e,1.5,{delay:t,alpha:0,repeat:-1}),TweenMax.to(e.scale,1.5,{x:5,y:5,delay:t,repeat:-1})}return w.beginFill(16776960,0),w.drawRect(-50,-50,100,100),i.addChild(w),i.addEventListener(MouseEvent.MOUSE_OVER,function(){s.alpha=.6}),i.addEventListener(MouseEvent.MOUSE_OUT,function(){s.alpha=.4}),i.addEventListener(TouchEvent.TOUCH_BEGIN,function(){i.emit(i.event.TAP),!r&&i.parent&&i.parent.removeChild(i)}),i.x=e,i.y=t,i.setColor=function(e){var t=e>>16,n=e>>8&255,a=255&e;o._loadMatrix([t,0,0,0,0,0,n,0,0,0,0,0,a,0,0,0,0,0,255,0],!1),s.filters=[o]},i.setRotation=function(e){i.rotation=e},i.showAllDir=function(){if(l.direction)for(var e=0;e<3;e++){var t=new PIXI.Container;t.addChild(PIXI.Sprite.fromFrame("oneArrow")),i.addChild(t),t.pivot={x:0,y:T.height/2},t.rotation=Math.PI/2*(e+1)}else{var n=new PIXI.Container;n.addChild(PIXI.Sprite.fromFrame("NBarrow")),i.addChild(n),n.pivot={x:T.width/2,y:T.height/2},n.rotation=i.rotation+Math.PI/2}},i.event={TAP:"pointTap",HIDEARR:"hideArrow",SHOWARR:"showArrow"},instance.info&&instance.info.newLayOut&&i.scale.set(.6,.6),i}},411:function(e,t,n){"use strict";var a=r(n(529)),i=r(n(535)),o=r(n(169));function r(e){return e&&e.__esModule?e:{default:e}}nb.substance0585=extendsClass(ScienceMain,{frame0:function(){var e=this,t=e.pendulum,n=0;(0,a.default)(t),e.pendulum.setAngleLimit(20*Math.PI/180),t.getTapPoint().y-=10,t.getTapPoint().x+=5,i.default.apply(e.clock),instance.NBDownTip.showTip(instance.info.OPERATION_0),t.addEventListener(t.event.dragStart,function(){instance.NBDownTip.hideTip(),e.txt.alpha=0}),e.clockPause=!0,e.clock.addEventListener(e.clock.event.clockRender,function(t){if("15"===t.sec&&"00"===t.ms&&"00"==t.min)e.clockPause=!0,instance.NBDownTip.showTip("时间到了"),e.clock.pause(),function(){1==e.pendulum.getChildIndex(e.c0)?s("a"):1==e.pendulum.getChildIndex(e.c1)||2==e.pendulum.getChildIndex(e.c1)?s("b"):1!=e.pendulum.getChildIndex(e.c2)&&2!=e.pendulum.getChildIndex(e.c2)||s("c");for(var t=1;t<10;t++){if(0===e.table.children[t].alpha){r=!1;break}r=!0}}(),e.c1.addEventListener(TouchEvent.TOUCH_BEGIN,function(){instance.NBDownTip.hideTip()}),e.pendulum.getIsPlay()&&(e.pendulum.stop(),e.txt.alpha=1,e.pendulum.zoomOut({speed:0,onComplete:function(){if(l){var t=(0,o.default)(360,1310);e.addChild(t),instance.NBDownTip.showTip(instance.info.OPERATION_1),l=!1}e.pendulum.circle.interactive=!1;for(var n=0,a=0;a<e.table.children.length;a++){var i=e.table.children[a];if(!i.alpha)break;++n===e.table.children.length&&instance.NBStepsShow(1)}}}));else{e.clockPause=!1;for(var n=0,a=0;a<e.table.children.length;a++){var i=e.table.children[a];if(!i.alpha)break;++n===e.table.children.length&&instance.NBStepsShow(1)}}}),t.addEventListener(t.event.dragEnd,function(){t.setAttenuation(0),Math.abs(t.rotation)>Math.PI/180?(e.clockPause&&(e.clock.reset(),e.clock.start(.01)),t.start(),t.removeTapPoint()):t.zoomOut({onComplete:function(){t.addPendulemEvents(),0==r?t.removeTapPoint():(e.pendulum.getTapPoint().y-=70,e.pendulum.getTapPoint().x+=5),0==e.clockPause&&t.removeTapPoint(),e.txt.alpha=1}}),e.clockPause&&Math.abs(t.rotation)>Math.PI/180&&(e.clock.reset(),n=0)}),t.addEventListener(t.event.gotoValley,function(){}),t.addEventListener(t.event.gotoPeak,function(){e.allRotation=e.pendulum.rotation,n++,e.wordtxt.text=parseInt((n-1)/2)});var r=!0,l=!0;function s(t){for(var n=function(n){var a=e.table[t+n];if(0==+a.alpha)return a.gotoAndStop(+e.wordtxt.text),TweenMax.to(a,.5,{alpha:1}),TweenMax.to(a.scale,.5,{x:1.5,y:1.5,ease:Sine.easeInOut,onComplete:function(){TweenMax.to(a.scale,.5,{x:1,y:1,ease:Sine.easeInOut})}}),"break"},a=0;a<3;a++){if("break"===n(a))break}}for(var c=0;c<3;c++)e.table["a"+c].alpha=0,e.table["b"+c].alpha=0,e.table["c"+c].alpha=0,1==e.table.a2.alpha&&0==e.table.b2.alpha&&1==e.table.c2.alpha&&instance.NBStepsShow(1);function d(){this.txt0.alpha=0}function u(){var t=this;!e.pendulum.getIsPlay()&&1==e.clockPause?this.hitTest(e.pendulum.pos)?(e.addChildWithSamePos(e.pendulum.circle),e.newCircle=e.pendulum.circle,TweenMax.to(e.newCircle,.5,{x:this.startX,y:this.startY,ease:Sine.easeInOut,onComplete:function(){e.newCircle.startX=t.startX,e.newCircle.startY=t.startY,e.txt.text=t.weight,e.newCircle.txt0.alpha=1}}),e.pendulum.addChildWithSamePos(this),e.pendulum.circle=this,this.interactive=!1,e.pendulum.setChildIndex(this,e.pendulum.children.length-2),TweenMax.to(this,.5,{x:-60,y:600,ease:Sine.easeInOut,onComplete:function(){e.newCircle.interactive=!0,t.interactive=!1}})):(TweenMax.to(this,.5,{x:this.startX,y:this.startY,ease:Sine.easeInOut,onComplete:function(){t.interactive=!0}}),this.txt0.alpha=1):(instance.NBDownTipsError.showTip("暂停再交换"),this.txt0.alpha=1,TweenMax.to(this,.5,{x:this.startX,y:this.startY,ease:Sine.easeInOut}))}!function(){e.pendulum.pos.alpha=0,e.pendulum.addChildAt(e.c0,e.pendulum.children.length-2),e.pendulum.circle=e.c0,e.pendulum.circle.x=-60,e.pendulum.circle.y=600,e.pendulum.circle.txt0.alpha=0;for(var t=0;t<3;t++){var n=e["c"+t];NBDrag.addDrag(n),n.startX=n.x,n.startY=n.y,n.addEventListener(NBDrag.event.START_DRAG,d),n.addEventListener(NBDrag.event.STOP_DRAG,u),n.weight=50*(t+1)+"g"}e.pendulum.circle.interactive=!1}()},frame1:function(){var e=this,t=e.pendulum;e.flag=!0,(0,a.default)(t),e.pendulum.setAngleLimit(20*Math.PI/180),i.default.apply(e.clock),instance.NBDownTip.showTip(instance.info.OPERATION_2),t.removeTapPoint();var n=(0,o.default)(50,15);e.timeline.a1.addChild(n);var r=0;e.clock.addEventListener(e.clock.event.clockRender,function(t){"15"===t.sec&&"00"===t.ms&&"00"==t.min&&(e.flag=!0,e.clockPause=!0,e.timeline.visible=!0,e.clock.pause(),instance.NBDownTip.showTip("时间到了"),300==e.pendulum.children[1].y?s("a"):600==e.pendulum.children[1].y&&s("b"),e.pendulum.getIsPlay()&&(e.pendulum.stop(),e.pendulum.zoomOut({speed:0,onComplete:function(){l&&(l=!1)}})))}),t.addEventListener(t.event.dragEnd,function(){instance.NBDownTip.hideTip(),e.timeline.a0.addEventListener(TouchEvent.TAP,d),t.setAttenuation(0),Math.abs(t.rotation)>=Math.PI/180&&(e.timeline.visible=!1,t.start(),e.flag&&e.clock.start(.01),e.flag=!1),e.clockPause&&Math.abs(t.rotation)>=Math.PI/180&&(e.clock.reset(),r=0,e.clockPause=!1)}),t.addEventListener(t.event.gotoValley,function(){}),t.addEventListener(t.event.gotoPeak,function(){e.allRotation=e.pendulum.rotation,r++,e.wordtxt.text=parseInt((r-1)/2)});var l=!0;function s(t){for(var n=function(n){var a=e.table[t+n];if(0==+a.alpha)return a.gotoAndStop(+e.wordtxt.text),TweenMax.to(a,.5,{alpha:1}),TweenMax.to(a.scale,.5,{x:1.5,y:1.5,ease:Sine.easeInOut,onComplete:function(){TweenMax.to(a.scale,.5,{x:1,y:1,ease:Sine.easeInOut})}}),"break"},a=0;a<3;a++){if("break"===n(a))break}}for(var c=0;c<3;c++)e.table["a"+c].alpha=0,e.table["b"+c].alpha=0;function d(){instance.viewStack.frame1.pendulum.children[1].y=600,instance.viewStack.frame1.pendulum.children[0].scale.y=2,e.pendulum.setSpeed(1),TweenMax.to(e.timeline.drag,1,{x:e.timeline.a0.x})}e.timeline.a1.addEventListener(TouchEvent.TAP,function(){instance.viewStack.frame1.pendulum.children[1].y=300,instance.viewStack.frame1.pendulum.children[0].scale.y=1,e.pendulum.setSpeed(3),instance.NBDownTip.hideTip(),TweenMax.to(e.timeline.drag,1,{x:e.timeline.a1.x})}),e.timeline.a0.addEventListener(TouchEvent.TAP,d)},start:function(){this.menu.addStepFromObj(this.info),this.menu.setExperimentName(this.info.labName),this.showExperimentImport(this.info.experimentImport),this.bindScriptToSprite(this.frame0,"frame0"),this.bindScriptToSprite(this.frame1,"frame1")},info:{experimentImport:"有些摆摆动的快慢是不同的，是什么原因造成不同的呢？",labName:"影响摆快慢的因素",title0:"摆锤重量对摆动次数的影响",title1:"摆绳长度对摆动次数的影响",OPERATION_0:"拖动摆锤观察全振次数",OPERATION_1:"移动摆锤可以更换摆锤位置",OPERATION_2:"点击按钮更换绳长",CONCLUSION:"摆的摆动与摆绳的长度有关，与摆锤重量无关。"},const:{},event:{}}),e.exports=nb.substance0585},529:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e||this,n=Math.PI/2,i=0,o=1,r=!1,l=!1;if(t){t.event={dragStart:"pendulem.event.dragStart",dragMove:"pendulem.event.dragMove",dragEnd:"pendulem.event.dragEnd",gotoValley:"pendulem.event.gotoValley",gotoPeak:"pendulem.event.gotoPeak",gotoEnd:"pendulem.event.gotoEnd"},T();var s=!1;return t.addPendulemEvents=T,t.removePendulemEvents=x,t.setAngleLimit=function(e){n=e},t.setAttenuation=function(e){i=e},t.setSpeed=function(e){o=e},t.getIsPlay=m,t.start=function(){r=!0,l=!0,h()},t.stop=v,t.zoomOut=f,t.getTapPoint=function(){return t.point},t.removeTapPoint=p,t}function c(e){s=!0,t.emit(t.event.dragStart,e),v(),p()}function d(e){if(s){var a=e.data.global,i=t.toGlobal({x:0,y:0}),o=-Math.atan2(a.x-i.x,a.y-i.y);o<-n?o=-n:o>n&&(o=n),t.rotation=o,t.emit(t.event.dragMove,{e:e,anngle:o})}}function u(e){s=!1,t.emit(t.event.dragEnd,Object.assign(e,{_rotation:t.rotation}))}function h(){if(m()){var e=t.rotation,n=-(e>0?1:-1)*(Math.abs(e)-i);if(n*e>0)return n=0,void f({speed:1/o,onComplete:function(){t.emit(t.event.gotoEnd,{_rotation:t.rotation})}});TweenMax.to(t,1/o,{rotation:0,ease:Power1.easeIn,onStart:function(){t.emit(t.event.gotoPeak,{_rotation:t.rotation})},onComplete:function(){t.emit(t.event.gotoValley,{_rotation:t.rotation}),TweenMax.to(t,1/o,{rotation:n,ease:Power1.easeOut,onComplete:h})}})}}function p(){var e=t.point;e&&(e.removeAllListeners(),t.removeChild(e),t.point=null)}function v(){r=!1,TweenMax.killTweensOf(t)}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.onStart,a=e.onComplete,i=void 0!==e.speed?e.speed:o/2;TweenMax.killTweensOf(t),TweenMax.to(t,i,{rotation:0,onStart:n,onComplete:function(){r=!1,"function"==typeof a&&a()}})}function m(){return r}function T(){!function(){if(!l){p();var e=t.weight||{x:0,y:t.height},n=e.x,i=e.y,o=(0,a.default)(n,i,!1,{addArrow:!0});o.y-=o.height/2,t.addChild(o),t.point=o}}(),x(),t.addEventListener(TouchEvent.TOUCH_BEGIN,c),t.addEventListener(TouchEvent.TOUCH_MOVE,d),t.addEventListener(TouchEvent.TOUCH_END,u),t.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,u)}function x(){t.removeEventListener(TouchEvent.TOUCH_MOVE,d),t.removeEventListener(TouchEvent.TOUCH_BEGIN,c),t.removeEventListener(TouchEvent.TOUCH_END,u),t.removeEventListener(TouchEvent.TOUCH_END_OUDSIDE,u)}console.error("请正确初始化pendulem")};var a=function(e){return e&&e.__esModule?e:{default:e}}(n(169))},535:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e&&e.frequency;var t=0,n=!1,a=this;this.txt.text="00:00.00";var i=void 0;this.event={clockRender:"clockRender"},this.render=function(e){if(!n){void 0===e&&(e=1/60),t+=e;var a=Math.floor(t/60);a=a<10?"0"+a:a;var i=Math.floor(t%60);i=i<10?"0"+i:i;var o=Math.floor(t%1*100);o=o<10?"0"+o:o,this.txt.text=a+":"+i+"."+o,this.emit(this.event.clockRender,{min:a.toString(),sec:i.toString(),ms:o.toString()})}},this.start=function(e){var n=void 0;n=void 0===e?void 0===this.times?1e3:this.times:1e3*e,this.times=n,i=setInterval(function(){t++;var e=Math.floor(t/100/60%60);e=e<10?"0"+e:e;var n=Math.floor(t/100%60);n=n<10?"0"+n:n;var i=Math.floor(t%100);i=i<10?"0"+i:i,a.txt.text=e+":"+n+"."+i,a.emit(a.event.clockRender,{min:e.toString(),sec:n.toString(),ms:i.toString()})},n)},this.restart=function(e){this.pause(),this.start(e)},this.getTime=function(){var e=a.txt.text;return{min:e.substring(0,2).toString(),sec:e.substring(3,5).toString(),ms:e.substring(6,8).toString()}},this.reset=function(){t=0,n=!1,this.txt.text="00:00.00"},this.pause=function(){n=!0,clearInterval(i)},this.resume=function(){n=!1}}}});