webpackJsonp([87,267],{169:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,i,a){for(var n=new PIXI.Container,r=new PIXI.filters.ColorMatrixFilter,o=i||!1,h=a||{addArrow:!1,type:"horizontal",scale:1},s=new PIXI.Container,d=0;d<3;++d){var l=d+1,c=PIXI.Sprite.fromFrame("TAP_1"+l);c.x=-c.width/2,c.y=-c.height/2;var g=new PIXI.Container;g.addChild(c),s.addChild(g)}var f=0;if(h.direction)switch(h.direction){case"top":f=-Math.PI/2;break;case"bottom":f=Math.PI/2;break;case"left":f=Math.PI;break;case"right":f=0;break;default:f=0}s.filters=[r];for(var v=0;v<s.children.length;v++){var u=s.children[v];u.scale.x=u.scale.y=2,v<2&&I(u,.75*v)}if(n.addChild(s),h.addArrow){var x,p;if(h.direction){x=PIXI.Sprite.fromFrame("oneArrow"),p=new PIXI.extras.MovieClip([x]);var m=h.scale?h.scale:1;p.scale.x=p.scale.y=m,p.pivot={x:0,y:p.height/2},p.rotation=f}else{x=PIXI.Sprite.fromFrame("NBarrow"),(p=new PIXI.extras.MovieClip([x])).pivot={x:p.width/2,y:p.height/2};var w=h.scale?h.scale:1;p.scale.x=p.scale.y=w,"horizontal"!==(h.type?h.type:"horizontal")&&(p.rotation=Math.PI/2)}n.addChild(p),n.arrow=p,n.addEventListener("hideArrow",function(){p.alpha=0,p.visible=!1}),n.addEventListener("showArrow",function(){p.alpha=1,p.visible=!0})}s.alpha=.4;var y=new PIXI.Graphics;function I(t,e){TweenMax.to(t,1.5,{delay:e,alpha:0,repeat:-1}),TweenMax.to(t.scale,1.5,{x:5,y:5,delay:e,repeat:-1})}return y.beginFill(16776960,0),y.drawRect(-50,-50,100,100),n.addChild(y),n.addEventListener(MouseEvent.MOUSE_OVER,function(){s.alpha=.6}),n.addEventListener(MouseEvent.MOUSE_OUT,function(){s.alpha=.4}),n.addEventListener(TouchEvent.TOUCH_BEGIN,function(){n.emit(n.event.TAP),!o&&n.parent&&n.parent.removeChild(n)}),n.x=t,n.y=e,n.setColor=function(t){var e=t>>16,i=t>>8&255,a=255&t;r._loadMatrix([e,0,0,0,0,0,i,0,0,0,0,0,a,0,0,0,0,0,255,0],!1),s.filters=[r]},n.setRotation=function(t){n.rotation=t},n.showAllDir=function(){if(h.direction)for(var t=0;t<3;t++){var e=new PIXI.Container;e.addChild(PIXI.Sprite.fromFrame("oneArrow")),n.addChild(e),e.pivot={x:0,y:p.height/2},e.rotation=Math.PI/2*(t+1)}else{var i=new PIXI.Container;i.addChild(PIXI.Sprite.fromFrame("NBarrow")),n.addChild(i),i.pivot={x:p.width/2,y:p.height/2},i.rotation=n.rotation+Math.PI/2}},n.event={TAP:"pointTap",HIDEARR:"hideArrow",SHOWARR:"showArrow"},instance.info&&instance.info.newLayOut&&n.scale.set(.6,.6),n}},239:function(t,e,i){"use strict";nb.substance0147=extendsClass(ScienceMain,{frame0:function(){instance.viewStack.NBONOFF.visible=!1;var t=this.timeline,e=this.step0,i=this.step1,a=!1;i.alpha=0,t.setAutoPlay(!0,1),t.on("change",function(n){!a&&n.time>=1&&(a=!0,TweenMax.to([t,e],.5,{alpha:0,delay:1,onComplete:function(){TweenMax.to(i,.5,{alpha:1})}}));for(var r=1;r<4;r++)e["container"+r].s.alpha=n.time})},start:function(){this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"铁在什么情况下容易生锈？我们怎么防止、减缓铁生锈呢？",labName:"控制铁生锈的速度",CONCLUSION:"铁钉生锈是水和空气共同作用的结果。",newLayOut:!0,bgColor:"#F3E6CF"},const:{},event:{}}),nb.timelineSprite=function(){var t,e,i=this;if(i.bgMask){var a=i.bgMask.getChildAt(0);i.progressBar.mask=a,a.scale.x=0}for(var n,r=this.a0.x===this.a1.x?"vertical":"horizontal",o=0,h=0;h<int.MAX_VALUE;h++){var s=this["a"+h];if(void 0===s){e="vertical"===r?this["a"+(h-1)].y:this["a"+(h-1)].x,o=h;break}0===h&&(t="vertical"===r?s.y:s.x),s.addEventListener(TouchEvent.TAP,function(){"vertical"===r?TweenMax.to(i.drag,.5,{y:this.y,onUpdate:l,onComplete:c}):TweenMax.to(i.drag,.5,{x:this.x,onUpdate:l,onComplete:c}),i.emit("nodeTap",{index:this.name.substr(1,1)})})}this.setDrag=function(t){t&&NBDrag.addDrag(i.drag,n)},this.updateBound=function(){"vertical"==r?(n={x:this.drag.x,y:this.drag.y,width:0,height:e},n={x:this.drag.x,y:this.drag.y,width:0,height:e}):n={x:this.drag.x,y:this.drag.y,width:e,height:0}},this.updateBound(),i.drag.addEventListener(NBDrag.event.STOP_DRAG,function(){if(!1!==i._align_){var a=o-1;if("vertical"===r){var n=Math.round((this.y-t)/(e-t)*a);n<0&&(n=0),TweenMax.to(this,.5,{y:n*(e-t)/a,onUpdate:l,onComplete:c})}else{var h=Math.round((this.x-t)/(e-t)*a);h<0&&(h=0)}}}),i.drag.addEventListener(NBDrag.event.DRAG_MOVE,function(){l()}),i.drag.constY=i.drag.y;var d,l=function(){if("vertical"===r){var a=(i.drag.y-t)/(e-t);i.emit("change",{time:a})}else{i.drag.y=i.drag.constY,i.drag.x>=e&&(i.drag.x=e),i.drag.x<=t&&(i.drag.x=t);var n=(i.drag.x-t)/(e-t);i.emit("change",{time:n}),i.drag.line0&&(i.drag.line0.rotation=1800*n*Math.PI/180,i.drag.line1.rotation=360*n*Math.PI/180),i.bgMask&&(i.bgMask.getChildAt(0).scale.x=n)}},c=function(){i.setMomentsPause(!0,2e3,2);var a=o-1;if("vertical"===r){var n=(i.drag.y-t)/(e-t),h=Math.round(n*a);i.emit("change",{index:h,time:n})}else{var s=(i.drag.x-t)/(e-t),d=Math.round(s*a);i.emit("change",{index:d,time:s})}};this.getNodeCount=function(){return o},this.setNodePos=function(t){var e=this["a"+t];"vertical"===r?i.drag.y=e.y:i.drag.x=e.x},nb.MovieClip.ticker.add(function(){if(i._auto_&&!i.drag.isDragging){var a=e-t;"vertical"===r?(i.drag.y+=i._speed_,i.drag.y>a&&(i.drag.y=a)):(i.drag.x+=i._speed_,i.drag.x>a+i.a0.x&&(i.drag.x=a+i.a0.x)),l()}}),this.setAutoPlay=function(t,e){this._auto_=t,this._speed_=e||.1},this.setAutoAlign=function(t){this._align_=t},this.setMomentsPause=function(t,e,a){clearTimeout(d),t&&!i.NOTafterStopPlay?(i.setAutoPlay(!1),clearTimeout(d),i.setAutoPlay(!1),d=setTimeout(function(){i.setAutoPlay(!0,a)},e)):i.setAutoPlay(!1)},this.resetTimeline=function(){this.drag.x=this.bgMask.x}},t.exports=nb.substance0147},392:function(t,e,i){"use strict";var a=function(t){return t&&t.__esModule?t:{default:t}}(i(169));i(239),nb.substance0565=extendsClass(ScienceMain,{frame0:function(){var t=this,e=t.ball,i=t.magnet,n=(0,a.default)(0,0,!0);t.magnet.left.alpha=0,t.magnet.right.alpha=0,t.magnet.top.alpha=0,t.magnet.bottom.alpha=0,e.addChild(n),e.Point=n,NBDrag.addDrag(e),NBDrag.addDrag(i),e.times=0,e.addEventListener(NBDrag.event.START_DRAG,function(){t.setChildIndex(e,t.children.length-1),e.removeChild(n),instance.NBDownTip.hideTip()}),e.addEventListener(NBDrag.event.STOP_DRAG,h),i.addEventListener(NBDrag.event.START_DRAG,o),i.addEventListener(NBDrag.event.DRAG_MOVE,function(){e.hit&&e.reach&&(t.setChildIndex(e,t.children.length-1),e.withRight||e.withLeft||(h(),o()),e.withRight?(r=i.x+452+e.width/2,e.y=i.y,i.removeEventListener(NBDrag.event.STOP_DRAG,h)):e.withLeft&&(r=i.x-452-e.width/2,e.y=i.y,i.removeEventListener(NBDrag.event.STOP_DRAG,h)),e.x=r);e.reach||h()}),i.addEventListener(NBDrag.event.STOP_DRAG,h);var r=void 0;function o(){instance.NBDownTip.hideTip(),i.addEventListener(NBDrag.event.STOP_DRAG,h),Math.abs(e.x-(i.x+452+e.width/2))<10&&e.reach?(r=i.x+452+e.width/2,e.withRight=!0,e.withLeft=!1):Math.abs(e.x-(i.x-452-e.width/2))<10&&e.reach?(r=i.x-452-e.width/2,e.withLeft=!0,e.withRight=!1):(e.withLeft=e.withRight=!1,r=e.x)}function h(){var a=function(){if(e.hitTest(i.top))return"top";if(e.hitTest(i.bottom))return"bottom";if(e.hitTest(i.left))return"left";if(e.hitTest(i.right))return"right"}(),r=e.x,o=e.y;if(a||e.hit||0!==e.times){if(a){switch(t.setChildIndex(i,t.children.length-1),e.hit=!0,e.times,e.removeChild(n),a){case"top":t.setChildIndex(e,t.children.length-1),r=e.x,o=i.y-i.height/2+i.top.height-e.height/2-3+40;break;case"bottom":r=e.x,o=i.y+i.height/2-i.top.height;break;case"left":r=i.x-i.width/2+i.left.width,o=e.y;break;case"right":r=i.x+i.width/2-i.left.width,o=e.y}i.removeEventListener(NBDrag.event.STOP_DRAG,h),TweenMax.to(e,.4,{y:o,x:r,ease:Sine.easeInOut,onComplete:function(){r=e.x>=i.x?i.x+452+e.width/2:i.x-452-e.width/2,TweenMax.to(e,.4,{x:r,ease:Sine.easeInOut,onComplete:function(){TweenMax.to(e,.2,{y:i.y}),e.reach=!0,t.setChildIndex(e,t.children.length-1)}})}})}}else e.addChild(n),(this&&"ball"===this.name||this&&"magnet"===this.name)&&instance.NBDownTip.showTip("将小钢珠放在磁铁上观察现象"),a||(e.hit=e.reach=!1)}},start:function(){this.menu.addStepFromObj(this.info),this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"小钢珠放在条形磁铁中间，你会观察到什么现象？",labName:"小钢珠和条形磁铁",title0:"将小钢珠放在磁铁上观察",CONCLUSION:"小钢珠总是很容易被吸到条形磁铁的一端（小钢珠总是很容易滚到条形磁铁的一端）。"},const:{},event:{}}),t.exports=nb.substance0565}});