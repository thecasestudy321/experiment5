webpackJsonp([205],{169:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,i){for(var a=new PIXI.Container,r=new PIXI.filters.ColorMatrixFilter,o=n||!1,h=i||{addArrow:!1,type:"horizontal",scale:1},d=new PIXI.Container,l=0;l<3;++l){var s=l+1,c=PIXI.Sprite.fromFrame("TAP_1"+s);c.x=-c.width/2,c.y=-c.height/2;var w=new PIXI.Container;w.addChild(c),d.addChild(w)}var f=0;if(h.direction)switch(h.direction){case"top":f=-Math.PI/2;break;case"bottom":f=Math.PI/2;break;case"left":f=Math.PI;break;case"right":f=0;break;default:f=0}d.filters=[r];for(var v=0;v<d.children.length;v++){var p=d.children[v];p.scale.x=p.scale.y=2,v<2&&m(p,.75*v)}if(a.addChild(d),h.addArrow){var u,x;if(h.direction){u=PIXI.Sprite.fromFrame("oneArrow"),x=new PIXI.extras.MovieClip([u]);var T=h.scale?h.scale:1;x.scale.x=x.scale.y=T,x.pivot={x:0,y:x.height/2},x.rotation=f}else{u=PIXI.Sprite.fromFrame("NBarrow"),(x=new PIXI.extras.MovieClip([u])).pivot={x:x.width/2,y:x.height/2};var M=h.scale?h.scale:1;x.scale.x=x.scale.y=M,"horizontal"!==(h.type?h.type:"horizontal")&&(x.rotation=Math.PI/2)}a.addChild(x),a.arrow=x,a.addEventListener("hideArrow",function(){x.alpha=0,x.visible=!1}),a.addEventListener("showArrow",function(){x.alpha=1,x.visible=!0})}d.alpha=.4;var I=new PIXI.Graphics;function m(e,t){TweenMax.to(e,1.5,{delay:t,alpha:0,repeat:-1}),TweenMax.to(e.scale,1.5,{x:5,y:5,delay:t,repeat:-1})}return I.beginFill(16776960,0),I.drawRect(-50,-50,100,100),a.addChild(I),a.addEventListener(MouseEvent.MOUSE_OVER,function(){d.alpha=.6}),a.addEventListener(MouseEvent.MOUSE_OUT,function(){d.alpha=.4}),a.addEventListener(TouchEvent.TOUCH_BEGIN,function(){a.emit(a.event.TAP),!o&&a.parent&&a.parent.removeChild(a)}),a.x=e,a.y=t,a.setColor=function(e){var t=e>>16,n=e>>8&255,i=255&e;r._loadMatrix([t,0,0,0,0,0,n,0,0,0,0,0,i,0,0,0,0,0,255,0],!1),d.filters=[r]},a.setRotation=function(e){a.rotation=e},a.showAllDir=function(){if(h.direction)for(var e=0;e<3;e++){var t=new PIXI.Container;t.addChild(PIXI.Sprite.fromFrame("oneArrow")),a.addChild(t),t.pivot={x:0,y:x.height/2},t.rotation=Math.PI/2*(e+1)}else{var n=new PIXI.Container;n.addChild(PIXI.Sprite.fromFrame("NBarrow")),a.addChild(n),n.pivot={x:x.width/2,y:x.height/2},n.rotation=a.rotation+Math.PI/2}},a.event={TAP:"pointTap",HIDEARR:"hideArrow",SHOWARR:"showArrow"},instance.info&&instance.info.newLayOut&&a.scale.set(.6,.6),a}},252:function(e,t,n){"use strict";var i=function(e){return e&&e.__esModule?e:{default:e}}(n(169));nb.substance0562=extendsClass(ScienceMain,{frame0:function(e){var t=(e=e||{}).showHand,n=e.tweenWheel;e.offsetX=e.offsetX?e.offsetX:0;var a=this;a.tip||instance.NBDownTip.showTip("拖拽磁铁靠近小车观察现象");var r=a.magnet,o=r.change,h=a.car,d=h.y+h.height-r.height/2,l=(0,i.default)(0,0),s=a.line0.x+h.width/2,c=a.line1.x-h.width/2+e.offsetX;a.line0.alpha=a.line1.alpha=0,a.setChildIndex(r,a.children.length-1),r.currentDir="S",h.currentDir="S",r.addChild(l),r.Point=l,NBDrag.addDrag(r);var w=void 0,f=void 0;function v(e){Math.abs(a.magnet.x-w)<=2&&Math.abs(a.magnet.y-f)<=2||o.removeEventListener(TouchEvent.TAP,p);r.y=r.y>=d?d:r.y;var i=h.y-r.y,l=r.x-h.x;if(t&&e&&(a.hand.x=r.x+r.width/2-20,a.hand.y=r.y-r.height/2-10,a.addChild(a.hand),TweenMax.killTweensOf(a.hand),TweenMax.to(a.hand,.3,{alpha:1})),!(i>150||Math.abs(l)>350)){var v=0;a.move=!0,l>0?(h.currentDir="S",h.currentDir===r.currentDir?(TweenMax.killTweensOf(h),v=(v=(v=r.x-250-h.width/2)<s?s:v)>c?c:v,u(Math.abs(h.x-v)/300,v,"left")):(TweenMax.killTweensOf(h),v=(v=(v=r.x-h.width/2-r.width/2)>c?c:v)<s?s:v,u(Math.abs(h.x-v)/250,v,"right"))):l<0?(h.currentDir="N",h.currentDir===r.currentDir?(TweenMax.killTweensOf(h),v=(v=(v=r.x+250+h.width)>c?c:v)<s?s:v,u(Math.abs(h.x-v)/300,v,"right")):(TweenMax.killTweensOf(h),v=(v=(v=r.x+h.width/2+r.width/2)>c?c:v)<s?s:v,u(Math.abs(h.x-v)/250,v,"left"))):TweenMax.killTweensOf(h)}function u(e,t,i){TweenMax.to(h,e,{x:t,ease:Power0.easeNone,onUpdate:function(){if(n){if(Math.abs(h.x-h.width/2-a.line0.x)<10)return;if(Math.abs(h.x+h.width/2+r.width-a.line1.x)<10)return;"right"===i?Math.abs(a.magnet.x-h.x)<=a.magnet.width/2+h.width/2+5?(h.wheel0.rotation-=.1,h.wheel1.rotation-=.1):(h.wheel0.rotation+=.1,h.wheel1.rotation+=.1):(h.wheel0.rotation-=.1,h.wheel1.rotation-=.1)}}})}}function p(){r.removeChild(l),o.interactive=!1,o.times=!0,a.move||a.tip||instance.NBDownTip.showTip("拖拽磁铁靠近小车观察现象"),0==r.rotation?TweenMax.to(r,.5,{rotation:Math.PI,onComplete:function(){o.interactive=!0,r.currentDir="N",v()},onUpdate:function(){o.rotation=-r.rotation}}):TweenMax.to(r,.5,{rotation:0,onComplete:function(){o.interactive=!0,r.currentDir="S",v()},onUpdate:function(){o.rotation=-r.rotation}})}t&&(a.hand.alpha=0),r.addEventListener(NBDrag.event.START_DRAG,function(){r.removeChild(l),instance.NBDownTip.hideTip(),w=a.magnet.x,f=a.magnet.y,o.addEventListener(TouchEvent.TAP,p)}),r.addEventListener(NBDrag.event.DRAG_MOVE,v),r.addEventListener(NBDrag.event.STOP_DRAG,function(){t&&(TweenMax.to(a.hand,.3,{alpha:0}),Math.abs(h.x-r.x)<=h.width/2+r.width/2&&(TweenMax.killTweensOf(h),r.x=h.x+h.width/2+r.width/2)),a.move||(a.tip||instance.NBDownTip.showTip("拖拽磁铁靠近小车观察现象"),r.addChild(l)),a.move&&!o.times&&(instance.NBDownTip.showTip("交换磁极试试"),o.visible||(nb.GlobalEffect.fadeIn(o),r.addChild(l)))}),h.addEventListener(TouchEvent.TAP,function(){a.move||a.tip||instance.NBDownTip.showTip("拖拽磁铁靠近小车观察现象")})},start:function(){this.menu.addStepFromObj(this.info),this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"小车能听我手里的指挥棒指挥吗？",labName:"遥控小车",title0:"用磁铁去指挥小车",CONCLUSION:"磁铁能吸引铁制的各种物体。磁铁能吸引铁的性质叫磁性。",isOffset:!0},const:{},event:{}}),e.exports=nb.substance0562}});